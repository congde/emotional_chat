# å¿ƒè¯­æƒ…æ„Ÿé™ªä¼´æœºå™¨äºº ğŸ¤–ğŸ’

ä¸€ä¸ªåŸºäº **é˜¿é‡Œäº‘é€šä¹‰åƒé—®(Qwen)** + **Agentæ¶æ„** + **RAGçŸ¥è¯†åº“** + **å‘é‡æ•°æ®åº“** çš„æ™ºèƒ½æƒ…æ„Ÿæ”¯æŒèŠå¤©æœºå™¨äººï¼Œå…·æœ‰æƒ…æ„Ÿè¯†åˆ«ã€å…±æƒ…å›åº”ã€ä¸»åŠ¨æœåŠ¡ã€é•¿æœŸè®°å¿†å’Œæ•°æ®åˆ†æèƒ½åŠ›ã€‚

> **å‚è€ƒé¡¹ç›®**: [emotional_chat](https://github.com/congde/emotional_chat.git)

> **ğŸ†• æ›´æ–°è¯´æ˜ v3.0.0**: 
> - âœ… ä» OpenAI GPT è¿ç§»è‡³é˜¿é‡Œäº‘é€šä¹‰åƒé—®(Qwen)
> - âœ… é›†æˆ Agent æ™ºèƒ½æ ¸å¿ƒï¼ˆä»è¢«åŠ¨å“åº”å‡çº§åˆ°ä¸»åŠ¨æœåŠ¡ï¼‰
> - âœ… é›†æˆ RAG çŸ¥è¯†åº“ç³»ç»Ÿï¼ˆä¸“ä¸šå¿ƒç†å¥åº·çŸ¥è¯†å¢å¼ºï¼‰
> - âœ… åˆ†å±‚æœåŠ¡æ¶æ„é‡æ„ï¼ˆæ›´å¥½çš„å¯ç»´æŠ¤æ€§å’Œæ‰©å±•æ€§ï¼‰
> - âœ… Docker å®¹å™¨åŒ–æ”¯æŒï¼ˆä¸€é”®éƒ¨ç½²ï¼‰

## ğŸ“‘ ç›®å½•

- [åŠŸèƒ½ç‰¹ç‚¹](#-åŠŸèƒ½ç‰¹ç‚¹)
- [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
- [ç³»ç»Ÿæ¶æ„](#ï¸-ç³»ç»Ÿæ¶æ„)
- [æŠ€æœ¯æ ˆ](#ï¸-æŠ€æœ¯æ ˆ)
- [é¡¹ç›®ç»“æ„](#-é¡¹ç›®ç»“æ„)
- [APIæ¥å£æ–‡æ¡£](#-apiæ¥å£æ–‡æ¡£)
- [æ ¸å¿ƒåŠŸèƒ½](#-æ ¸å¿ƒåŠŸèƒ½)
- [ç•Œé¢é¢„è§ˆ](#-ç•Œé¢é¢„è§ˆ)
- [ç”Ÿäº§éƒ¨ç½²](#-ç”Ÿäº§éƒ¨ç½²)
- [Makefileå‘½ä»¤](#ï¸-makefile-å‘½ä»¤é€ŸæŸ¥)
- [ç›¸å…³æ–‡æ¡£](#-ç›¸å…³æ–‡æ¡£)
- [ç‰ˆæœ¬å†å²](#-ç‰ˆæœ¬å†å²)
- [è´¡çŒ®æŒ‡å—](#-è´¡çŒ®æŒ‡å—)

## âœ¨ åŠŸèƒ½ç‰¹ç‚¹

### æ ¸å¿ƒåŠŸèƒ½
- ğŸ­ **æƒ…æ„Ÿè¯†åˆ«**: æ™ºèƒ½åˆ†æç”¨æˆ·æƒ…æ„ŸçŠ¶æ€ï¼ˆå¼€å¿ƒã€éš¾è¿‡ã€ç„¦è™‘ã€æ„¤æ€’ç­‰ï¼‰
- ğŸ¯ **æ„å›¾è¯†åˆ«**: âœ… æ··åˆå¼æ„å›¾è¯†åˆ«ç³»ç»Ÿï¼Œå‡†ç¡®ç†è§£ç”¨æˆ·æ„å›¾ï¼ˆ6å¤§ç±»å‹ï¼‰
- ğŸ’ **å…±æƒ…å›åº”**: æ ¹æ®æƒ…æ„ŸçŠ¶æ€å’Œæ„å›¾ç”Ÿæˆæ¸©æš–ã€ç†è§£çš„å›åº”
- ğŸ§  **é•¿æœŸè®°å¿†**: âœ… Chroma å‘é‡æ•°æ®åº“ï¼Œæ”¯æŒè·¨ä¼šè¯è¯­ä¹‰æ£€ç´¢
- ğŸ“š **RAGçŸ¥è¯†åº“**: âœ… é›†æˆä¸“ä¸šå¿ƒç†å¥åº·çŸ¥è¯†åº“ï¼Œæä¾›ç§‘å­¦ä¾æ®çš„å»ºè®®
- ğŸ¤– **Agentæ™ºèƒ½æ ¸å¿ƒ**: âœ… ä»è¢«åŠ¨å“åº”å‡çº§åˆ°ä¸»åŠ¨æœåŠ¡ï¼Œæ™ºèƒ½ä»»åŠ¡è§„åˆ’å’Œå·¥å…·è°ƒç”¨
- ğŸ™ï¸ **å¤šæ¨¡æ€äº¤äº’**: ğŸ†• æ”¯æŒè¯­éŸ³è¯†åˆ«ã€è¯­éŸ³åˆæˆã€å›¾åƒç†è§£ï¼Œèåˆæ–‡æœ¬/è¯­éŸ³/å›¾åƒæƒ…æ„Ÿ
- ğŸ—„ï¸ **æ•°æ®æŒä¹…åŒ–**: MySQL + Redis å¤šå±‚å­˜å‚¨æ¶æ„
- ğŸ“Š **æƒ…æ„Ÿè¶‹åŠ¿åˆ†æ**: åˆ†æç”¨æˆ·æƒ…æ„Ÿå˜åŒ–è¶‹åŠ¿å’Œæ¨¡å¼
- ğŸ”„ **ä¸Šä¸‹æ–‡ç†è§£**: åŸºäºå¯¹è¯å†å²å’Œç”¨æˆ·ç”»åƒæä¾›è¿è´¯çš„å›åº”
- ğŸš¨ **å±æœºæ£€æµ‹**: è‡ªåŠ¨è¯†åˆ«å±æœºæƒ…å†µï¼Œæä¾›ä¸“ä¸šæ±‚åŠ©èµ„æº

### æŠ€æœ¯ç‰¹æ€§
- ğŸš€ **é«˜æ€§èƒ½æ¶æ„**: FastAPI + LangChain + åˆ†å±‚æœåŠ¡æ¶æ„
- ğŸ¨ **ç°ä»£åŒ–ç•Œé¢**: React 18 + Styled Components + æ‰“å­—æœºæ•ˆæœ
- âŒ¨ï¸ **æ‰“å­—æœºæ•ˆæœ**: æ™ºèƒ½æ‰“å­—æœºåŠ¨ç”»ï¼Œæ ¹æ®æƒ…ç»ªè°ƒæ•´é€Ÿåº¦å’Œå…‰æ ‡é¢œè‰²
- ğŸ™ï¸ **å¤šæ¨¡æ€å¤„ç†**: ğŸ†• Whisperè¯­éŸ³è¯†åˆ« + gTTSè¯­éŸ³åˆæˆ + DeepFaceäººè„¸æƒ…ç»ªè¯†åˆ«
- ğŸ³ **å®¹å™¨åŒ–éƒ¨ç½²**: Docker Compose ä¸€é”®éƒ¨ç½²
- ğŸ“ˆ **ç›‘æ§ä½“ç³»**: Prometheus + Grafana å®Œæ•´ç›‘æ§
- ğŸ”’ **å®‰å…¨è¿‡æ»¤**: è‡ªåŠ¨æ£€æµ‹é«˜é£é™©è¯æ±‡å¹¶æä¾›ä¸“ä¸šæ±‚åŠ©ä¿¡æ¯
- ğŸ‡¨ğŸ‡³ **ä¸­æ–‡ä¼˜åŒ–**: ä½¿ç”¨é€šä¹‰åƒé—®æ¨¡å‹ï¼Œå¯¹ä¸­æ–‡ç†è§£å’Œè¡¨è¾¾æ›´åŠ è‡ªç„¶
- ğŸ”„ **æ•°æ®åº“è¿ç§»**: Alembic ç®¡ç†æ•°æ®åº“ç‰ˆæœ¬
- ğŸ¤ **æ··åˆæ¶æ„**: è§„åˆ™å¼•æ“ + æœºå™¨å­¦ä¹ åˆ†ç±»å™¨åŒé‡ä¿éšœ

### ğŸŒŸ é€šä¹‰åƒé—®æ¨¡å‹ä¼˜åŠ¿

- **å“è¶Šçš„ä¸­æ–‡èƒ½åŠ›**: é’ˆå¯¹ä¸­æ–‡åœºæ™¯æ·±åº¦ä¼˜åŒ–ï¼Œç†è§£å’Œè¡¨è¾¾æ›´è‡ªç„¶
- **æƒ…æ„Ÿå…±æƒ…å‡ºè‰²**: åœ¨å¿ƒç†å¥åº·åœºæ™¯è¡¨ç°ä¼˜å¼‚ï¼Œå›å¤æ¸©æš–ç»†è…»
- **ç¨³å®šå¯é **: é˜¿é‡Œäº‘åŸºç¡€è®¾æ–½ä¿éšœï¼ŒæœåŠ¡ç¨³å®šæ€§é«˜
- **æˆæœ¬ä¼˜åŒ–**: ç›¸æ¯”å›½å¤–æ¨¡å‹ï¼Œæ€§ä»·æ¯”æ›´é«˜

### ğŸ¤– Agentæ™ºèƒ½æ ¸å¿ƒï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰

**çŠ¶æ€**: âœ… å·²å®Œæˆé›†æˆ

ä»"è¢«åŠ¨å“åº”"å‡çº§åˆ°"ä¸»åŠ¨æœåŠ¡"çš„æ™ºèƒ½å¯¹è¯ç³»ç»Ÿã€‚

**æ ¸å¿ƒç»„ä»¶**:
- ğŸ§  **Planner (è§„åˆ’å™¨)**: æ™ºèƒ½ä»»åŠ¡åˆ†è§£å’Œç­–ç•¥é€‰æ‹©
- ğŸ› ï¸ **Tool Caller (å·¥å…·è°ƒç”¨å™¨)**: 10+ å†…ç½®å·¥å…·è‡ªåŠ¨è°ƒç”¨
- ğŸ’¾ **Memory Hub (è®°å¿†ä¸­æ¢)**: é•¿çŸ­æœŸè®°å¿†ç®¡ç†å’Œç”¨æˆ·ç”»åƒ
- ğŸ”„ **Reflector (åæ€å™¨)**: ä¸»åŠ¨å›è®¿å’Œç­–ç•¥ä¼˜åŒ–
- âš™ï¸ **Agent Core (æ ¸å¿ƒæ§åˆ¶å™¨)**: ç»Ÿç­¹åè°ƒæ‰€æœ‰ç»„ä»¶

**å·¥ä½œåŸç†**:
```
ç”¨æˆ·è¾“å…¥ â†’ Agent Core
            â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
    â”‚   Planner   â”‚ åˆ†æç›®æ ‡ã€åˆ†è§£ä»»åŠ¡
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
           â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
    â”‚  Memory Hub â”‚ æ£€ç´¢è®°å¿†ã€æ„å»ºç”»åƒ
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
           â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
    â”‚ Tool Caller â”‚ è°ƒç”¨å·¥å…·ã€æ‰§è¡Œä»»åŠ¡
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
           â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
    â”‚  Reflector  â”‚ è¯„ä¼°æ•ˆæœã€è§„åˆ’å›è®¿
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
           â†“
      æ™ºèƒ½å›å¤ç”Ÿæˆ
```

**è¯¦ç»†æ–‡æ¡£**: æŸ¥çœ‹ [AGENT_README.md](AGENT_README.md)

### âŒ¨ï¸ æ‰“å­—æœºæ•ˆæœç³»ç»Ÿ

**çŠ¶æ€**: âœ… å·²å®Œæˆé›†æˆ

ä¸ºAIå›å¤æ·»åŠ äº†æ™ºèƒ½æ‰“å­—æœºæ•ˆæœï¼Œè®©å¯¹è¯æ›´åŠ ç”ŸåŠ¨æœ‰è¶£ã€‚

**æ ¸å¿ƒç‰¹æ€§**:
- ğŸ­ **æƒ…ç»ªåŒ–æ‰“å­—**: æ ¹æ®AIæƒ…ç»ªè°ƒæ•´æ‰“å­—é€Ÿåº¦å’Œå…‰æ ‡é¢œè‰²
- âš¡ **æ™ºèƒ½é€Ÿåº¦**: æ ‡ç‚¹ç¬¦å·åœé¡¿ã€ä¸­æ–‡å­—ç¬¦ä¼˜åŒ–ã€ç©ºæ ¼å¿«é€Ÿé€šè¿‡
- ğŸ® **äº¤äº’æ§åˆ¶**: ç‚¹å‡»æš‚åœ/æ¢å¤ã€æš‚åœæŒ‡ç¤ºå™¨
- ğŸ¨ **è§†è§‰å¢å¼º**: é—ªçƒå…‰æ ‡ã€æƒ…ç»ªè‰²å½©ã€åŠ¨ç”»æ•ˆæœ

**æƒ…ç»ªåŒ–é…ç½®**:
```
ğŸ˜¢ æ‚²ä¼¤æƒ…ç»ª: 40msé€Ÿåº¦ + è“è‰²å…‰æ ‡ (#74b9ff)
ğŸ˜  æ„¤æ€’æƒ…ç»ª: 20msé€Ÿåº¦ + çº¢è‰²å…‰æ ‡ (#ff7675)  
ğŸ˜Š å¼€å¿ƒæƒ…ç»ª: 25msé€Ÿåº¦ + ç»¿è‰²å…‰æ ‡ (#00b894)
ğŸ˜ ä¸­æ€§æƒ…ç»ª: 30msé€Ÿåº¦ + é»‘è‰²å…‰æ ‡ (#333)
```

**æŠ€æœ¯å®ç°**:
- Reactç»„ä»¶åŒ–è®¾è®¡
- åŠ¨æ€é€Ÿåº¦è®¡ç®—ç®—æ³•
- æƒ…ç»ªçŠ¶æ€æ˜ å°„
- ç”¨æˆ·äº¤äº’æ§åˆ¶

### ğŸ¯ æ„å›¾è¯†åˆ«ç³»ç»Ÿ

**çŠ¶æ€**: âœ… å·²å®Œæˆé›†æˆ

é‡‡ç”¨"è§„åˆ™+æ¨¡å‹"çš„æ··åˆæ¶æ„ï¼Œå‡†ç¡®è¯†åˆ«ç”¨æˆ·æ„å›¾ï¼Œä¸ºå¯¹è¯ç”Ÿæˆæä¾›å…³é”®ä¾æ®ã€‚

**æ ¸å¿ƒç‰¹æ€§**:
- ğŸ” **æ··åˆè¯†åˆ«**: è§„åˆ™å¼•æ“ï¼ˆå¿«é€Ÿï¼‰+ MLåˆ†ç±»å™¨ï¼ˆå‡†ç¡®ï¼‰
- ğŸš¨ **å±æœºä¼˜å…ˆ**: ä¼˜å…ˆæ£€æµ‹å±æœºæƒ…å†µï¼Œç¡®ä¿å®‰å…¨ç¬¬ä¸€
- ğŸ’¡ **æ™ºèƒ½Prompt**: æ ¹æ®æ„å›¾è‡ªåŠ¨æ„å»ºé’ˆå¯¹æ€§çš„å“åº”ç­–ç•¥
- âš¡ **é«˜æ•ˆå¤„ç†**: å…³é”®è¯å¿«é€ŸåŒ¹é…ï¼Œæ¯«ç§’çº§å“åº”

**6å¤§æ„å›¾ç±»å‹**:
| æ„å›¾ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| **emotion** | æƒ…æ„Ÿè¡¨è¾¾ | "æˆ‘å¥½éš¾è¿‡"ã€"ä»Šå¤©å¿ƒæƒ…ä¸å¥½" |
| **advice** | å¯»æ±‚å»ºè®® | "æ€ä¹ˆåŠï¼Ÿ"ã€"ä½ æœ‰ä»€ä¹ˆå»ºè®®" |
| **conversation** | æ™®é€šå¯¹è¯ | "ä»Šå¤©å¤©æ°”ä¸é”™" |
| **function** | åŠŸèƒ½è¯·æ±‚ | "æé†’æˆ‘åƒè¯" |
| **crisis** | å±æœºå¹²é¢„ | "ä¸æƒ³æ´»äº†" âš ï¸ |
| **chat** | é—²èŠ | "ä½ å¥½"ã€"åœ¨å—" |

**æµ‹è¯•æ„å›¾è¯†åˆ«**:
```bash
# è¿è¡Œæµ‹è¯•å¥—ä»¶
python3 test_intent_module.py

# æµ‹è¯•APIæ¥å£
curl -X POST http://localhost:8000/intent/analyze \
  -H "Content-Type: application/json" \
  -d '{"text": "æˆ‘è¯¥æ€ä¹ˆåŠï¼Ÿ", "user_id": "test_user"}'
```

**è¯¦ç»†æ–‡æ¡£**: æŸ¥çœ‹ [docs/æ„å›¾è¯†åˆ«æ¨¡å—è¯´æ˜.md](docs/æ„å›¾è¯†åˆ«æ¨¡å—è¯´æ˜.md)

### ğŸ“š RAGçŸ¥è¯†åº“ç³»ç»Ÿ

**çŠ¶æ€**: âœ… å·²å®Œæˆé›†æˆ

é›†æˆä¸“ä¸šå¿ƒç†å¥åº·çŸ¥è¯†åº“ï¼Œæä¾›æœ‰ç§‘å­¦ä¾æ®çš„å»ºè®®ã€‚

**ç‰¹æ€§**:
- ğŸ“– **çŸ¥è¯†åŠ è½½**: æ”¯æŒ PDFã€æ–‡æœ¬ç­‰å¤šç§æ ¼å¼
- ğŸ” **è¯­ä¹‰æ£€ç´¢**: åŸºäºå‘é‡ç›¸ä¼¼åº¦æ£€ç´¢ç›¸å…³çŸ¥è¯†
- ğŸ’¡ **æ™ºèƒ½å¢å¼º**: è‡ªåŠ¨åˆ¤æ–­ä½•æ—¶ä½¿ç”¨çŸ¥è¯†åº“
- ğŸ¯ **ç²¾å‡†åŒ¹é…**: 6å¤§ç±»å¿ƒç†å¥åº·çŸ¥è¯†åˆ†ç±»

**çŸ¥è¯†ç±»åˆ«**:
1. è®¤çŸ¥è¡Œä¸ºç–—æ³•ï¼ˆCBTï¼‰
2. æ­£å¿µå‡å‹æŠ€æœ¯ï¼ˆMBSRï¼‰
3. ç§¯æå¿ƒç†å­¦
4. ç„¦è™‘åº”å¯¹ç­–ç•¥
5. ç¡çœ æ”¹å–„æ–¹æ³•
6. æƒ…ç»ªè°ƒèŠ‚æŠ€å·§

**åˆå§‹åŒ–çŸ¥è¯†åº“**:
```bash
# åˆå§‹åŒ–å†…ç½®çŸ¥è¯†
make rag-init

# æˆ–ç›´æ¥è¿è¡Œ
python init_rag_knowledge.py
```

**è¯¦ç»†æ–‡æ¡£**: æŸ¥çœ‹ [docs/RAGå®æ–½æ­¥éª¤.md](docs/RAGå®æ–½æ­¥éª¤.md)

### ğŸ§  è®°å¿†ç³»ç»Ÿ

**å¤šå±‚è®°å¿†æ¶æ„**:
```
çŸ­æœŸè®°å¿† (MySQL)    +    é•¿æœŸè®°å¿† (Chromaå‘é‡æ•°æ®åº“)
å½“å‰ä¼šè¯å¯¹è¯              è·¨ä¼šè¯è¯­ä¹‰ç›¸ä¼¼å¯¹è¯
      â†“                        â†“
            ä¸Šä¸‹æ–‡èåˆ
                 â†“
            ç”¨æˆ·ç”»åƒ
                 â†“
          æ™ºèƒ½å›å¤ç”Ÿæˆ
```

**ç‰¹æ€§**:
- ğŸ” **è¯­ä¹‰æ£€ç´¢**: åŸºäºè¯­ä¹‰ç›¸ä¼¼åº¦æ£€ç´¢å†å²å¯¹è¯
- ğŸŒ **è·¨ä¼šè¯è®°å¿†**: ä¸é™äºå½“å‰ä¼šè¯ï¼Œå¯è®¿é—®æ‰€æœ‰å†å²å¯¹è¯
- ğŸ‘¤ **ç”¨æˆ·ç”»åƒ**: è‡ªåŠ¨æ„å»ºç”¨æˆ·æ€§æ ¼ç‰¹å¾å’Œåå¥½
- ğŸ˜Š **æƒ…æ„Ÿæ¨¡å¼å­¦ä¹ **: å­¦ä¹ ç”¨æˆ·çš„æƒ…æ„Ÿè¡¨è¾¾æ¨¡å¼

## ğŸš€ å¿«é€Ÿå¼€å§‹

> ğŸ’¡ **æç¤º**: å®Œæ•´è¯¦ç»†çš„å®‰è£…æŒ‡å—è¯·æŸ¥çœ‹ [å¿«é€Ÿå¼€å§‹è¯¦ç»†æŒ‡å—](#å¿«é€Ÿå¼€å§‹è¯¦ç»†æŒ‡å—)

### å¿«é€Ÿå¯åŠ¨ï¼ˆ3æ­¥ï¼‰

```bash
# 1. å®‰è£…ä¾èµ–
make install

# 2. åˆå§‹åŒ–æ•°æ®åº“
make db-upgrade

# 3. å¯åŠ¨æœåŠ¡
make run              # åç«¯æœåŠ¡
cd frontend && npm start  # å‰ç«¯æœåŠ¡ï¼ˆæ–°ç»ˆç«¯ï¼‰
```

### è®¿é—®åœ°å€

- ğŸŒ **å‰ç«¯ç•Œé¢**: http://localhost:3000
- ğŸ”Œ **åç«¯API**: http://localhost:8000
- ğŸ“– **APIæ–‡æ¡£**: http://localhost:8000/docs

### Docker ä¸€é”®éƒ¨ç½²

```bash
# é…ç½®ç¯å¢ƒå˜é‡
cp config.env.example config.env
nano config.env

# å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d
```

---

## å¿«é€Ÿå¼€å§‹è¯¦ç»†æŒ‡å—

### 1. ç¯å¢ƒå‡†å¤‡

#### 1.1 å®‰è£…ç³»ç»Ÿä¾èµ–

```bash
# CentOS/RHEL/Alibaba Cloud Linux
sudo yum install -y cmake gcc gcc-c++ make

# Ubuntu/Debian
sudo apt update && sudo apt install -y cmake gcc g++ make build-essential
```

#### 1.2 å®‰è£…Pythonä¾èµ–

```bash
cd /home/workSpace/emotional_chat

# æ£€æŸ¥Pythonç‰ˆæœ¬
python3 --version

# å®‰è£…ä¾èµ–ï¼ˆPython 3.10+ï¼‰
pip3 install --user -r requirements.txt
# æˆ– python3.10 -m pip install --user -r requirements.txt

cd frontend && npm install && cd ..
```

#### 1.3 é…ç½®ç¯å¢ƒå˜é‡

```bash
cp config.env.example config.env
nano config.env  # é…ç½®APIå¯†é’¥å’Œæ•°æ®åº“ä¿¡æ¯
```

**å¿…éœ€é…ç½®é¡¹**:
- `LLM_API_KEY` æˆ– `DASHSCOPE_API_KEY`: é˜¿é‡Œäº‘é€šä¹‰åƒé—®APIå¯†é’¥
- `MYSQL_HOST`, `MYSQL_USER`, `MYSQL_PASSWORD`: MySQLæ•°æ®åº“é…ç½®

> ğŸ“ **è·å–API Key**: è®¿é—® [é˜¿é‡Œäº‘ DashScope](https://dashscope.console.aliyun.com/) åˆ›å»ºAPI Key

#### 1.4 å®‰è£…MySQL

```bash
# Ubuntu/Debian
sudo apt install mysql-server mysql-client
sudo systemctl start mysql

# CentOS/RHEL
sudo yum install mysql-server mysql
sudo systemctl start mysql
```

### 2. åˆå§‹åŒ–æ•°æ®åº“

```bash
# åˆ›å»ºæ•°æ®åº“
mysql -u root -p -e "CREATE DATABASE emotional_chat CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;"

# è¿è¡Œæ•°æ®åº“è¿ç§»
make db-upgrade

# åˆå§‹åŒ–RAGçŸ¥è¯†åº“ï¼ˆæ¨èï¼‰
make rag-init
```

### 3. å¯åŠ¨æœåŠ¡

**åç«¯æœåŠ¡**:
```bash
python3 run_backend.py
# æˆ–ä½¿ç”¨ uvicornï¼ˆä»é¡¹ç›®æ ¹ç›®å½•ï¼‰
python3 -m uvicorn backend.app:app --host 0.0.0.0 --port 8000 --reload
```

**å‰ç«¯æœåŠ¡**ï¼ˆæ–°ç»ˆç«¯ï¼‰:
```bash
cd frontend
npm start
```

### 4. éªŒè¯æœåŠ¡

```bash
# å¥åº·æ£€æŸ¥
curl http://localhost:8000/health

# æµ‹è¯•èŠå¤©æ¥å£
curl -X POST http://localhost:8000/chat \
  -H "Content-Type: application/json" \
  -d '{"message": "ä½ å¥½", "user_id": "test_user"}'
```

### 5. æ•…éšœæ’é™¤

**å¸¸è§é—®é¢˜**:
- ç«¯å£å†²çª: `netstat -tulpn | grep :8000` æŸ¥çœ‹å ç”¨
- ä¾èµ–å®‰è£…å¤±è´¥: ç¡®ä¿å·²å®‰è£… CMake å’Œç¼–è¯‘å·¥å…·
- æ•°æ®åº“è¿æ¥å¤±è´¥: æ£€æŸ¥ `config.env` ä¸­çš„æ•°æ®åº“é…ç½®

> ğŸ“– **æ›´å¤šå¸®åŠ©**: æŸ¥çœ‹ [å®Œæ•´å®‰è£…æŒ‡å—](#å¿«é€Ÿå¼€å§‹è¯¦ç»†æŒ‡å—) æˆ–æäº¤ Issue

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### æ€»ä½“æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   å‰ç«¯å±‚ (Frontend)                   â”‚
â”‚              React 18 + Styled Components            â”‚
â”‚                    ç«¯å£: 3000                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚ HTTP/WebSocket
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    è·¯ç”±å±‚ (Router)                    â”‚
â”‚    Chat | Memory | Feedback | Evaluation | RAG       â”‚
â”‚                    Agent Router                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   æœåŠ¡å±‚ (Service)                    â”‚
â”‚  ChatService | MemoryService | ContextService        â”‚
â”‚              AgentService (å¯é€‰)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 æ ¸å¿ƒå±‚ (Core/Module)                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Agent Core   â”‚  â”‚  RAG Module  â”‚  â”‚ LLM Moduleâ”‚  â”‚
â”‚  â”‚ â€¢ Planner    â”‚  â”‚ â€¢ KB Manager â”‚  â”‚â€¢ Qwen API â”‚  â”‚
â”‚  â”‚ â€¢ Tool Callerâ”‚  â”‚ â€¢ Retriever  â”‚  â”‚â€¢ LangChainâ”‚  â”‚
â”‚  â”‚ â€¢ Memory Hub â”‚  â”‚ â€¢ Embedder   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”‚ â€¢ Reflector  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  æ•°æ®å±‚ (Data)                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚  MySQL   â”‚  â”‚ ChromaDB â”‚  â”‚  Redis   â”‚           â”‚
â”‚  â”‚å…³ç³»æ•°æ®åº“ â”‚  â”‚å‘é‡æ•°æ®åº“â”‚  â”‚  ç¼“å­˜    â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### åˆ†å±‚æœåŠ¡æ¶æ„è¯¦è§£

#### 1. è·¯ç”±å±‚ (Router Layer)
è´Ÿè´£APIæ¥å£å®šä¹‰å’Œè¯·æ±‚åˆ†å‘

```
backend/routers/
â”œâ”€â”€ chat.py          - èŠå¤©æ¥å£
â”œâ”€â”€ memory.py        - è®°å¿†ç®¡ç†æ¥å£
â”œâ”€â”€ feedback.py      - ç”¨æˆ·åé¦ˆæ¥å£
â”œâ”€â”€ evaluation.py    - è¯„ä¼°ç³»ç»Ÿæ¥å£
â””â”€â”€ agent.py         - Agentæ™ºèƒ½æ¥å£
```

#### 2. æœåŠ¡å±‚ (Service Layer)
ä¸šåŠ¡é€»è¾‘å°è£…å’Œç¼–æ’

```
backend/services/
â”œâ”€â”€ chat_service.py      - èŠå¤©æœåŠ¡
â”œâ”€â”€ memory_service.py    - è®°å¿†æœåŠ¡
â”œâ”€â”€ context_service.py   - ä¸Šä¸‹æ–‡æœåŠ¡
â””â”€â”€ agent_service.py     - AgentæœåŠ¡ï¼ˆå¯é€‰ï¼‰
```

#### 3. æ ¸å¿ƒå±‚ (Core/Module Layer)
æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

```
backend/modules/
â”œâ”€â”€ agent/          - Agentæ™ºèƒ½æ ¸å¿ƒ
â”‚   â”œâ”€â”€ core/       - Agent Core, Planner, Tool Callerç­‰
â”‚   â”œâ”€â”€ services/   - AgentæœåŠ¡å®ç°
â”‚   â””â”€â”€ routers/    - Agentè·¯ç”±
â”œâ”€â”€ rag/            - RAGçŸ¥è¯†åº“ç³»ç»Ÿ
â”‚   â”œâ”€â”€ core/       - çŸ¥è¯†åº“ç®¡ç†ã€æ£€ç´¢
â”‚   â”œâ”€â”€ services/   - RAGæœåŠ¡
â”‚   â””â”€â”€ routers/    - RAGè·¯ç”±
â””â”€â”€ llm/            - LLMæ¨¡å‹å°è£…
    â”œâ”€â”€ core/       - LLMæ ¸å¿ƒåŠŸèƒ½
    â”œâ”€â”€ providers/  - LLMæä¾›å•†å°è£…ï¼ˆOpenAIã€Anthropicç­‰ï¼‰
    â””â”€â”€ services/   - LLMæœåŠ¡
```

#### 4. æ•°æ®å±‚ (Data Layer)
æ•°æ®å­˜å‚¨å’Œç®¡ç†

- **MySQL**: ç”¨æˆ·æ•°æ®ã€å¯¹è¯å†å²ã€æƒ…æ„Ÿè®°å½•
- **ChromaDB**: å‘é‡å­˜å‚¨ã€è¯­ä¹‰æ£€ç´¢
- **Redis**: ç¼“å­˜ã€ä¼šè¯çŠ¶æ€ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰

> ğŸ“– **è¯¦ç»†æ¶æ„æ–‡æ¡£**: æŸ¥çœ‹ç›¸å…³æ¨¡å—æ–‡æ¡£

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### åç«¯æŠ€æœ¯

#### æ ¸å¿ƒæ¡†æ¶
- **Python 3.10+**: ä¸»è¦å¼€å‘è¯­è¨€
  - ä½¿ç”¨ `requirements.txt` å®‰è£…ä¾èµ–
- **FastAPI 0.83+**: ç°ä»£åŒ–çš„Webæ¡†æ¶
- **LangChain 0.1+**: å¯¹è¯æµç®¡ç†å’Œè®°å¿†ç®¡ç†
- **Pydantic**: æ•°æ®éªŒè¯å’Œåºåˆ—åŒ–

#### AI & å¤§æ¨¡å‹
- **é˜¿é‡Œäº‘é€šä¹‰åƒé—® (Qwen Plus)**: å¤§è¯­è¨€æ¨¡å‹
- **LangChain-OpenAI**: LLMé›†æˆ
- **Sentence Transformers**: æ–‡æœ¬åµŒå…¥æ¨¡å‹

#### æ•°æ®å­˜å‚¨
- **MySQL 8.0**: å…³ç³»å‹æ•°æ®åº“ï¼ˆç”¨æˆ·æ•°æ®ã€å¯¹è¯å†å²ï¼‰
- **ChromaDB 0.4+**: å‘é‡æ•°æ®åº“ï¼ˆè¯­ä¹‰æ£€ç´¢ã€é•¿æœŸè®°å¿†ï¼‰
- **Redis 7**: ç¼“å­˜å’Œä¼šè¯ç®¡ç†ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
- **SQLAlchemy 1.4+**: ORMæ¡†æ¶
- **Alembic**: æ•°æ®åº“è¿ç§»å·¥å…·

#### æ–‡æ¡£å¤„ç†
- **PyPDF 3.17+**: PDFæ–‡æ¡£è§£æ
- **python-multipart**: æ–‡ä»¶ä¸Šä¼ æ”¯æŒ

#### è¿ç»´å·¥å…·
- **Docker & Docker Compose**: å®¹å™¨åŒ–éƒ¨ç½²
- **Prometheus**: æŒ‡æ ‡ç›‘æ§
- **Grafana**: æ•°æ®å¯è§†åŒ–
- **Elasticsearch & Kibana**: æ—¥å¿—èšåˆå’Œåˆ†æ
- **Nginx**: åå‘ä»£ç†

### å‰ç«¯æŠ€æœ¯
- **React 18**: UIæ¡†æ¶
- **Styled Components**: CSS-in-JSæ ·å¼æ–¹æ¡ˆ
- **Framer Motion**: åŠ¨ç”»æ•ˆæœåº“
- **Axios**: HTTPå®¢æˆ·ç«¯

### å¼€å‘å·¥å…·
- **Makefile**: å‘½ä»¤è¡Œå·¥å…·é›†æˆ
- **Python dotenv**: ç¯å¢ƒå˜é‡ç®¡ç†
- **Logging**: ç»“æ„åŒ–æ—¥å¿—ç³»ç»Ÿ

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

#### 1.1 å®‰è£…ç³»ç»Ÿä¾èµ–ï¼ˆå¿…éœ€ï¼‰

**å®‰è£… CMake å’Œç¼–è¯‘å·¥å…·**

æŸäº› Python åŒ…ï¼ˆå¦‚ `dlib`ã€`opencv-python`ï¼‰éœ€è¦ä»æºç ç¼–è¯‘ï¼Œå› æ­¤éœ€è¦å®‰è£…ç¼–è¯‘å·¥å…·ï¼š

```bash
# CentOS/RHEL/Alibaba Cloud Linux
sudo yum install -y cmake gcc gcc-c++ make

# Ubuntu/Debian
sudo apt update
sudo apt install -y cmake gcc g++ make build-essential

# éªŒè¯å®‰è£…
cmake --version
gcc --version
```

**æ³¨æ„**ï¼š
- `dlib`ï¼ˆface-recognition çš„ä¾èµ–ï¼‰éœ€è¦ CMake ç¼–è¯‘ï¼Œé¢„è®¡ç¼–è¯‘æ—¶é—´ 10-30 åˆ†é’Ÿ
- `opencv-python` ä¹Ÿéœ€è¦ç¼–è¯‘ï¼Œé¢„è®¡ç¼–è¯‘æ—¶é—´ 5-15 åˆ†é’Ÿ
- å¦‚æœä¸éœ€è¦äººè„¸è¯†åˆ«åŠŸèƒ½ï¼Œå¯ä»¥æ³¨é‡Šæ‰ `requirements.txt` ä¸­çš„ `face-recognition>=1.3.0`

#### 1.2 å®‰è£…Pythonä¾èµ–
```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd /home/emotional_chat

# æ£€æŸ¥Pythonç‰ˆæœ¬
python3 --version

# å®‰è£…ä¾èµ–ï¼ˆPython 3.10+ï¼‰
pip3 install --user -r requirements.txt

# æ³¨æ„ï¼šå¦‚æœé‡åˆ° dlib ç¼–è¯‘å¤±è´¥ï¼Œè¯·ç¡®ä¿å·²å®‰è£… CMake
# å¦‚æœé‡åˆ°ç‰ˆæœ¬å†²çªï¼Œè¯·å‚è€ƒå¯¹åº” requirements æ–‡ä»¶ä¸­çš„æ³¨é‡Šè¯´æ˜

# å®‰è£…å‰ç«¯ä¾èµ–
cd frontend
npm install
cd ..
```

#### 1.3 é…ç½®ç¯å¢ƒå˜é‡
```bash
# å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
cp config.env.example config.env

# ç¼–è¾‘é…ç½®æ–‡ä»¶
nano config.env
```

é…ç½®å†…å®¹ï¼š
```bash
# APIé…ç½® - ä½¿ç”¨é˜¿é‡Œäº‘é€šä¹‰åƒé—®(Qwen)
LLM_API_KEY=your_qwen_api_key_here
# æˆ–è€…ä½¿ç”¨ DASHSCOPE_API_KEY (å…¼å®¹æ—§ç‰ˆæœ¬)
# DASHSCOPE_API_KEY=your_qwen_api_key_here
LLM_BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1

# MySQLæ•°æ®åº“é…ç½®
MYSQL_HOST=localhost
MYSQL_PORT=3306
MYSQL_USER=root
MYSQL_PASSWORD=your_password
MYSQL_DATABASE=emotional_chat

# æ¨¡å‹é…ç½® - ä½¿ç”¨é€šä¹‰åƒé—®
DEFAULT_MODEL=qwen-plus
TEMPERATURE=0.7
MAX_TOKENS=1000

# æœåŠ¡å™¨é…ç½®
HOST=0.0.0.0
PORT=8000
DEBUG=true
```

**è·å–é€šä¹‰åƒé—® API Key**ï¼š
1. è®¿é—®é˜¿é‡Œäº‘ DashScope å¹³å°ï¼šhttps://dashscope.console.aliyun.com/
2. ç™»å½•é˜¿é‡Œäº‘è´¦å·
3. åˆ›å»º API Key
4. å°† API Key å¡«å…¥ `config.env` æ–‡ä»¶

#### 1.4 å®‰è£…å’Œé…ç½®MySQL
```bash
# Ubuntu/Debian
sudo apt update
sudo apt install mysql-server mysql-client

# CentOS/RHEL
sudo yum install mysql-server mysql

# å¯åŠ¨MySQLæœåŠ¡
sudo systemctl start mysql
sudo systemctl enable mysql

# é…ç½®MySQLï¼ˆå¯é€‰ï¼‰
sudo mysql_secure_installation
```

### 2. åˆå§‹åŒ–æ•°æ®åº“

#### 2.1 åˆ›å»ºMySQLæ•°æ®åº“
```bash
# ç™»å½•MySQL
mysql -u root -p

# åˆ›å»ºæ•°æ®åº“
CREATE DATABASE emotional_chat CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

# é€€å‡ºMySQL
exit;
```

#### 2.2 è¿è¡Œæ•°æ®åº“è¿ç§»
```bash
# æ–¹æ³•1ï¼šä½¿ç”¨Makefileï¼ˆæ¨èï¼‰
make db-init          # åˆå§‹åŒ–æ•°æ®åº“
make db-upgrade       # å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬

# æ–¹æ³•2ï¼šä½¿ç”¨Alembicå‘½ä»¤
alembic upgrade head  # å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬

# æŸ¥çœ‹æ•°æ®åº“çŠ¶æ€
make db-current       # æŸ¥çœ‹å½“å‰ç‰ˆæœ¬
make db-history       # æŸ¥çœ‹è¿ç§»å†å²
```

#### 2.3 åˆå§‹åŒ–RAGçŸ¥è¯†åº“ï¼ˆå¯é€‰ä½†æ¨èï¼‰
```bash
# ä½¿ç”¨Makefile
make rag-init

# æˆ–ç›´æ¥è¿è¡Œ
python init_rag_knowledge.py
```

### 3. å¯åŠ¨æœåŠ¡

#### 3.1 å¯åŠ¨åç«¯æœåŠ¡
```bash
# æ–¹æ³•1ï¼šä½¿ç”¨å¯åŠ¨è„šæœ¬ï¼ˆæ¨èï¼Œé¿å…æ–‡ä»¶ç›‘è§†é™åˆ¶é—®é¢˜ï¼‰
python3 run_backend.py

# æ–¹æ³•2ï¼šç›´æ¥åœ¨backendç›®å½•å¯åŠ¨
cd backend
python3 -m uvicorn backend.app:app --host 0.0.0.0 --port 8000 --reload
```

> **æ³¨æ„**ï¼šå¯åŠ¨è„šæœ¬ä¼šè‡ªåŠ¨åˆ‡æ¢åˆ° backend ç›®å½•è¿è¡Œï¼Œé¿å… watchfiles æ‰«æ frontend/node_modules å¯¼è‡´çš„æ–‡ä»¶ç›‘è§†é™åˆ¶é—®é¢˜ã€‚

åç«¯æœåŠ¡å°†åœ¨ `http://localhost:8000` å¯åŠ¨ï¼ŒAPIæ–‡æ¡£å¯åœ¨ `http://localhost:8000/docs` æŸ¥çœ‹ã€‚

#### 3.2 å¯åŠ¨å‰ç«¯æœåŠ¡
```bash
# æ–°å¼€ä¸€ä¸ªç»ˆç«¯çª—å£
cd /home/emotional_chat/frontend

# å¯åŠ¨å‰ç«¯æœåŠ¡ï¼ˆç«¯å£3000ï¼‰
npm start
```

å‰ç«¯åº”ç”¨å°†åœ¨ `http://localhost:3000` å¯åŠ¨ã€‚


### 4. éªŒè¯æœåŠ¡

**æ£€æŸ¥åç«¯æœåŠ¡**
```bash
# å¥åº·æ£€æŸ¥
curl http://localhost:8000/health
# é¢„æœŸå“åº”åŒ…å«: version: "3.0.0", agent_enabled: true

# æŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯ï¼ˆäº†è§£æ¶æ„ï¼‰
curl http://localhost:8000/system/info

# æŸ¥çœ‹APIæ ¹è·¯å¾„
curl http://localhost:8000/
# é¢„æœŸå“åº”åŒ…å«: Agentæ™ºèƒ½æ ¸å¿ƒã€RAGçŸ¥è¯†åº“ç­‰åŠŸèƒ½åˆ—è¡¨

# æµ‹è¯•æ™®é€šèŠå¤©æ¥å£
curl -X POST http://localhost:8000/chat \
  -H "Content-Type: application/json" \
  -d '{"message": "ä½ å¥½ï¼Œæˆ‘ä»Šå¤©å¿ƒæƒ…å¾ˆå¥½ï¼", "user_id": "test_user"}'

# æµ‹è¯•Agentæ¥å£ï¼ˆå¦‚æœå¯ç”¨ï¼‰
curl -X POST http://localhost:8000/agent/chat \
  -H "Content-Type: application/json" \
  -d '{"message": "æˆ‘æœ€è¿‘ç¡ä¸å¥½ï¼Œæ€ä¹ˆåŠï¼Ÿ", "user_id": "test_user"}'

# æŸ¥çœ‹APIæ–‡æ¡£
open http://localhost:8000/docs  # æˆ–åœ¨æµè§ˆå™¨ä¸­è®¿é—®
```

**æ£€æŸ¥å‰ç«¯æœåŠ¡**
- æ‰“å¼€æµè§ˆå™¨è®¿é—® `http://localhost:3000`
- åº”è¯¥èƒ½çœ‹åˆ°ç°ä»£åŒ–çš„èŠå¤©ç•Œé¢

**æ£€æŸ¥æ•°æ®åº“è¿æ¥**
```bash
# ä½¿ç”¨Makefile
make db-check

# æŸ¥çœ‹è¡¨ç»“æ„
mysql -u root -p emotional_chat -e "SHOW TABLES;"
```

**æ£€æŸ¥RAGçŸ¥è¯†åº“**
```bash
# æµ‹è¯•RAGç³»ç»Ÿ
make rag-test

# æˆ–æŸ¥çœ‹çŸ¥è¯†åº“çŠ¶æ€
curl http://localhost:8000/rag/status
```

### 5. ä½¿ç”¨è¯´æ˜

1. æ‰“å¼€æµè§ˆå™¨è®¿é—® `http://localhost:3000`
2. åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥ä½ çš„æƒ³æ³•å’Œæ„Ÿå—
3. æœºå™¨äººä¼šåˆ†æä½ çš„æƒ…æ„Ÿå¹¶ç»™å‡ºå…±æƒ…å›åº”
4. æ”¯æŒå¤šè½®å¯¹è¯ï¼Œæœºå™¨äººä¼šè®°ä½å¯¹è¯å†å²
5. æŸ¥çœ‹APIæ–‡æ¡£ï¼šhttp://localhost:8000/docs

### 6. æ•…éšœæ’é™¤

**åç«¯å¯åŠ¨å¤±è´¥**
```bash
# æ£€æŸ¥Pythonç‰ˆæœ¬
python3 --version

# æ£€æŸ¥ä¾èµ–å®‰è£…
pip3 list | grep fastapi

# æ‰‹åŠ¨å®‰è£…ä¾èµ–ï¼ˆPython 3.10+ï¼‰
python3 --version  # å…ˆæ£€æŸ¥ç‰ˆæœ¬
pip3 install --user -r requirements.txt

# æ£€æŸ¥MySQLè¿æ¥
python3 setup_database.py
```

**å‰ç«¯å¯åŠ¨å¤±è´¥**
```bash
# æ£€æŸ¥Node.jsç‰ˆæœ¬
node --version
npm --version

# æ¸…ç†å¹¶é‡æ–°å®‰è£…ä¾èµ–
cd frontend
rm -rf node_modules package-lock.json
npm install
```

**ç«¯å£å†²çª**
```bash
# æ£€æŸ¥ç«¯å£å ç”¨
netstat -tulpn | grep :8000
netstat -tulpn | grep :3000

# æ€æ­»å ç”¨ç«¯å£çš„è¿›ç¨‹
sudo kill -9 <PID>
```

## ğŸ¯ å¿«é€Ÿå¯åŠ¨æ€»ç»“

### æ–¹å¼ä¸€ï¼šä½¿ç”¨Makefileï¼ˆæ¨èï¼‰

```bash
# 1. å®‰è£…ä¾èµ–
make install

# 2. åˆå§‹åŒ–æ•°æ®åº“
make db-upgrade

# 3. åˆå§‹åŒ–RAGçŸ¥è¯†åº“ï¼ˆå¯é€‰ï¼‰
make rag-init

# 4. å¯åŠ¨åç«¯æœåŠ¡
make run
```

### æ–¹å¼äºŒï¼šä½¿ç”¨Docker Compose

```bash
# ä¸€é”®å¯åŠ¨æ‰€æœ‰æœåŠ¡ï¼ˆåŒ…å«ç›‘æ§æ ˆï¼‰
docker-compose up -d

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose ps
```

### æ–¹å¼ä¸‰ï¼šä¼ ç»Ÿæ–¹å¼

**ç»ˆç«¯1 - å¯åŠ¨åç«¯ï¼š**
```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œï¼ˆæ¨èï¼‰
python3 run_backend.py

# æˆ–è€…ä½¿ç”¨uvicorn
cd backend
python3 -m uvicorn backend.app:app --host 0.0.0.0 --port 8000 --reload
```

**ç»ˆç«¯2 - å¯åŠ¨å‰ç«¯ï¼š**
```bash
cd frontend
npm start
```

### è®¿é—®åœ°å€

- ğŸŒ å‰ç«¯ç•Œé¢ï¼šhttp://localhost:3000
- ğŸ”Œ åç«¯APIï¼šhttp://localhost:8000
- ğŸ“– APIæ–‡æ¡£ï¼šhttp://localhost:8000/docs
- ğŸ“Š ç³»ç»Ÿä¿¡æ¯ï¼šhttp://localhost:8000/system/info

### æµ‹è¯•ç³»ç»Ÿ

```bash
# æµ‹è¯•åç«¯å¥åº·çŠ¶æ€
curl http://localhost:8000/health

# æŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯
curl http://localhost:8000/

# æµ‹è¯•æ™®é€šèŠå¤©
curl -X POST http://localhost:8000/chat \
  -H "Content-Type: application/json" \
  -d '{"message": "ä½ å¥½", "user_id": "test_user"}'

# æµ‹è¯•AgentèŠå¤©ï¼ˆæ™ºèƒ½æ¨¡å¼ï¼‰
curl -X POST http://localhost:8000/agent/chat \
  -H "Content-Type: application/json" \
  -d '{"message": "æˆ‘æœ€è¿‘å‹åŠ›å¾ˆå¤§", "user_id": "test_user"}'

# æµ‹è¯•RAGçŸ¥è¯†åº“
curl -X POST http://localhost:8000/rag/search \
  -H "Content-Type: application/json" \
  -d '{"query": "å¦‚ä½•å‡å‹", "top_k": 3}'
```

### å¸¸ç”¨Makefileå‘½ä»¤

```bash
make help         # æŸ¥çœ‹æ‰€æœ‰å¯ç”¨å‘½ä»¤
make db-check     # æ£€æŸ¥æ•°æ®åº“è¿æ¥
make db-current   # æŸ¥çœ‹å½“å‰æ•°æ®åº“ç‰ˆæœ¬
make rag-test     # æµ‹è¯•RAGç³»ç»Ÿ
make rag-demo     # RAGæ•ˆæœå¯¹æ¯”æ¼”ç¤º
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
emotional_chat/
â”œâ”€â”€ backend/                          # åç«¯ä»£ç ç›®å½•
â”‚   â”œâ”€â”€ __init__.py                  
â”‚   â”œâ”€â”€ app.py                       # âœ… FastAPIåº”ç”¨å·¥å‚ï¼ˆä¸»å…¥å£ï¼‰
â”‚   â”œâ”€â”€ main.py                      # æ—§ç‰ˆä¸»ç¨‹åºï¼ˆå…¼å®¹æ€§ï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ routers/                     # è·¯ç”±å±‚ - APIæ¥å£å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ chat.py                  # èŠå¤©æ¥å£
â”‚   â”‚   â”œâ”€â”€ enhanced_chat.py         # å¢å¼ºç‰ˆèŠå¤©æ¥å£
â”‚   â”‚   â”œâ”€â”€ streaming_chat.py        # æµå¼èŠå¤©æ¥å£
â”‚   â”‚   â”œâ”€â”€ memory.py                # è®°å¿†ç®¡ç†æ¥å£
â”‚   â”‚   â”œâ”€â”€ feedback.py              # åé¦ˆæ¥å£
â”‚   â”‚   â”œâ”€â”€ evaluation.py            # è¯„ä¼°æ¥å£
â”‚   â”‚   â”œâ”€â”€ agent.py                 # Agentæ™ºèƒ½æ¥å£
â”‚   â”‚   â”œâ”€â”€ emotion_analysis.py      # æƒ…æ„Ÿåˆ†ææ¥å£
â”‚   â”‚   â”œâ”€â”€ performance.py           # æ€§èƒ½ç›‘æ§æ¥å£
â”‚   â”‚   â””â”€â”€ personalization.py       # ä¸ªæ€§åŒ–é…ç½®æ¥å£
â”‚   â”‚
â”‚   â”œâ”€â”€ services/                    # æœåŠ¡å±‚ - ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ chat_service.py          # èŠå¤©æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ enhanced_chat_service.py # å¢å¼ºç‰ˆèŠå¤©æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ optimized_chat_service.py # ä¼˜åŒ–ç‰ˆèŠå¤©æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ memory_service.py        # è®°å¿†æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ enhanced_memory_manager.py # å¢å¼ºç‰ˆè®°å¿†ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ context_service.py       # ä¸Šä¸‹æ–‡æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ enhanced_context_assembler.py # å¢å¼ºç‰ˆä¸Šä¸‹æ–‡ç»„è£…
â”‚   â”‚   â”œâ”€â”€ agent_service.py         # AgentæœåŠ¡
â”‚   â”‚   â”œâ”€â”€ personalization_service.py # ä¸ªæ€§åŒ–æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ user_profile_builder.py  # ç”¨æˆ·ç”»åƒæ„å»º
â”‚   â”‚   â”œâ”€â”€ emotion_trend_analyzer.py # æƒ…æ„Ÿè¶‹åŠ¿åˆ†æ
â”‚   â”‚   â”œâ”€â”€ advanced_sentiment_analyzer.py # é«˜çº§æƒ…æ„Ÿåˆ†æ
â”‚   â”‚   â”œâ”€â”€ proactive_recall_system.py # ä¸»åŠ¨å›è®¿ç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ performance_optimizer.py # æ€§èƒ½ä¼˜åŒ–å™¨
â”‚   â”‚   â””â”€â”€ prompt_composer.py       # Promptç»„åˆå™¨
â”‚   â”‚
â”‚   â”œâ”€â”€ modules/                     # æ¨¡å—å±‚ - æ ¸å¿ƒåŠŸèƒ½
â”‚   â”‚   â”œâ”€â”€ agent/                   # âœ… Agentæ™ºèƒ½æ ¸å¿ƒæ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ core/                # Agentæ ¸å¿ƒç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ services/            # AgentæœåŠ¡
â”‚   â”‚   â”‚   â”œâ”€â”€ routers/             # Agentè·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ models/              # Agentæ•°æ®æ¨¡å‹
â”‚   â”‚   â”‚   â””â”€â”€ protocol/            # Agentåè®®
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ rag/                     # âœ… RAGçŸ¥è¯†åº“ç³»ç»Ÿ
â”‚   â”‚   â”‚   â”œâ”€â”€ core/                # RAGæ ¸å¿ƒ
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ knowledge_base.py   # çŸ¥è¯†åº“ç®¡ç†
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ retriever.py        # æ£€ç´¢å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ services/            # RAGæœåŠ¡
â”‚   â”‚   â”‚   â”œâ”€â”€ routers/             # RAGè·¯ç”±
â”‚   â”‚   â”‚   â””â”€â”€ models/              # RAGæ•°æ®æ¨¡å‹
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ llm/                     # LLMæ¨¡å‹å°è£…
â”‚   â”‚   â”‚   â”œâ”€â”€ core/                # LLMæ ¸å¿ƒ
â”‚   â”‚   â”‚   â”œâ”€â”€ providers/           # LLMæä¾›å•†å°è£…
â”‚   â”‚   â”‚   â”œâ”€â”€ services/            # LLMæœåŠ¡
â”‚   â”‚   â”‚   â””â”€â”€ models/              # LLMæ•°æ®æ¨¡å‹
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ intent/                  # æ„å›¾è¯†åˆ«æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ core/                # æ„å›¾è¯†åˆ«æ ¸å¿ƒ
â”‚   â”‚   â”‚   â”œâ”€â”€ services/            # æ„å›¾è¯†åˆ«æœåŠ¡
â”‚   â”‚   â”‚   â”œâ”€â”€ routers/             # æ„å›¾è¯†åˆ«è·¯ç”±
â”‚   â”‚   â”‚   â””â”€â”€ models/              # æ„å›¾è¯†åˆ«æ•°æ®æ¨¡å‹
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ multimodal/              # å¤šæ¨¡æ€å¤„ç†æ¨¡å—
â”‚   â”‚       â”œâ”€â”€ core/                # å¤šæ¨¡æ€æ ¸å¿ƒ
â”‚   â”‚       â””â”€â”€ services/            # å¤šæ¨¡æ€æœåŠ¡
â”‚   â”‚
â”‚   â”œâ”€â”€ agent/                        # Agentæ ¸å¿ƒå®ç°ï¼ˆç‹¬ç«‹æ¨¡å—ï¼‰
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ agent_core.py            # Agentæ ¸å¿ƒæ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ planner.py               # ä»»åŠ¡è§„åˆ’å™¨
â”‚   â”‚   â”œâ”€â”€ tool_caller.py           # å·¥å…·è°ƒç”¨å™¨
â”‚   â”‚   â”œâ”€â”€ memory_hub.py            # è®°å¿†ä¸­æ¢
â”‚   â”‚   â”œâ”€â”€ reflector.py             # åæ€ä¼˜åŒ–å™¨
â”‚   â”‚   â”œâ”€â”€ tools/                   # Agentå·¥å…·é›†
â”‚   â”‚   â”‚   â”œâ”€â”€ calendar_api.py      # æ—¥å†å·¥å…·
â”‚   â”‚   â”‚   â”œâ”€â”€ scheduler_service.py # è°ƒåº¦æœåŠ¡
â”‚   â”‚   â”‚   â”œâ”€â”€ psychology_db.py     # å¿ƒç†å­¦æ•°æ®åº“
â”‚   â”‚   â”‚   â””â”€â”€ audio_player.py      # éŸ³é¢‘æ’­æ”¾å™¨
â”‚   â”‚   â””â”€â”€ README.md                # Agentæ¨¡å—æ–‡æ¡£
â”‚   â”‚
â”‚   â”œâ”€â”€ plugins/                      # æ’ä»¶ç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ base_plugin.py           # æ’ä»¶åŸºç±»
â”‚   â”‚   â”œâ”€â”€ plugin_manager.py        # æ’ä»¶ç®¡ç†å™¨
â”‚   â”‚   â”œâ”€â”€ weather_plugin.py        # å¤©æ°”æ’ä»¶
â”‚   â”‚   â”œâ”€â”€ news_plugin.py           # æ–°é—»æ’ä»¶
â”‚   â”‚   â””â”€â”€ README.md                # æ’ä»¶ç³»ç»Ÿæ–‡æ¡£
â”‚   â”‚
â”‚   â”œâ”€â”€ core/                         # æ ¸å¿ƒå·¥å…·å’Œæ¥å£
â”‚   â”‚   â”œâ”€â”€ config.py                # æ ¸å¿ƒé…ç½®
â”‚   â”‚   â”œâ”€â”€ interfaces.py            # æ¥å£å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ exceptions.py            # å¼‚å¸¸å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ factories.py             # å·¥å‚æ¨¡å¼
â”‚   â”‚   â”œâ”€â”€ config/                  # é…ç½®å­ç›®å½•
â”‚   â”‚   â”œâ”€â”€ exceptions/              # å¼‚å¸¸å­ç›®å½•
â”‚   â”‚   â”œâ”€â”€ interfaces/              # æ¥å£å­ç›®å½•
â”‚   â”‚   â””â”€â”€ utils/                   # å·¥å…·å‡½æ•°
â”‚   â”‚
â”‚   â”œâ”€â”€ config/                       # é…ç½®æ–‡ä»¶ç›®å½•
â”‚   â”‚   â”œâ”€â”€ emotion_strategy.yaml    # æƒ…æ„Ÿç­–ç•¥é…ç½®
â”‚   â”‚   â””â”€â”€ performance_config.py    # æ€§èƒ½é…ç½®
â”‚   â”‚
â”‚   â”œâ”€â”€ middleware/                   # ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ error_handler.py         # é”™è¯¯å¤„ç†ä¸­é—´ä»¶
â”‚   â”‚   â””â”€â”€ logging_middleware.py    # æ—¥å¿—ä¸­é—´ä»¶
â”‚   â”‚
â”‚   â”œâ”€â”€ schemas/                      # æ•°æ®æ¨¡å¼å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ chat_schemas.py          # èŠå¤©æ•°æ®æ¨¡å¼
â”‚   â”‚   â””â”€â”€ common_schemas.py        # é€šç”¨æ•°æ®æ¨¡å¼
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/                        # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ sentiment_classifier.py  # æƒ…æ„Ÿåˆ†ç±»å™¨
â”‚   â”‚
â”‚   â”œâ”€â”€ validators/                   # æ•°æ®éªŒè¯å™¨
â”‚   â”‚
â”‚   â”œâ”€â”€ tests/                        # æµ‹è¯•ç›®å½•
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ unit/                    # å•å…ƒæµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ integration/             # é›†æˆæµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ e2e/                     # ç«¯åˆ°ç«¯æµ‹è¯•
â”‚   â”‚   â””â”€â”€ fixtures/                # æµ‹è¯• fixtures
â”‚   â”‚
â”‚   â”œâ”€â”€ migrations/                   # æ•°æ®åº“è¿ç§»ï¼ˆAlembicï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ database.py                   # æ•°æ®åº“æ¨¡å‹ï¼ˆSQLAlchemyï¼‰
â”‚   â”œâ”€â”€ models.py                     # Pydanticæ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ dependencies.py               # FastAPIä¾èµ–æ³¨å…¥
â”‚   â”œâ”€â”€ logging_config.py             # æ—¥å¿—é…ç½®
â”‚   â”œâ”€â”€ emotion_analyzer.py           # æƒ…æ„Ÿåˆ†æå™¨
â”‚   â”œâ”€â”€ vector_store.py               # å‘é‡æ•°æ®åº“æ“ä½œ
â”‚   â”œâ”€â”€ memory_manager.py             # è®°å¿†ç®¡ç†å™¨
â”‚   â”œâ”€â”€ memory_extractor.py          # è®°å¿†æå–å™¨
â”‚   â”œâ”€â”€ context_assembler.py         # ä¸Šä¸‹æ–‡ç»„è£…å™¨
â”‚   â”œâ”€â”€ evaluation_engine.py          # è¯„ä¼°å¼•æ“
â”‚   â”œâ”€â”€ feedback_analyzer.py          # åé¦ˆåˆ†æå™¨
â”‚   â”œâ”€â”€ multimodal_services.py        # å¤šæ¨¡æ€æœåŠ¡
â”‚   â”œâ”€â”€ prompt_optimizer.py           # Promptä¼˜åŒ–å™¨
â”‚   â””â”€â”€ xinyu_prompt.py               # å¿ƒè¯­Promptæ¨¡æ¿
â”‚
â”œâ”€â”€ frontend/                         # å‰ç«¯ä»£ç ç›®å½•
â”‚   â”œâ”€â”€ public/                      
â”‚   â”‚   â””â”€â”€ index.html               
â”‚   â”œâ”€â”€ src/                         
â”‚   â”‚   â”œâ”€â”€ App.js                   # Reactä¸»ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ index.js                 # å…¥å£æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ index.css                # å…¨å±€æ ·å¼
â”‚   â”‚   â”œâ”€â”€ components/              # ç»„ä»¶ç›®å½•
â”‚   â”‚   â”‚   â”œâ”€â”€ TypewriterText.js    # æ‰“å­—æœºæ•ˆæœç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ChatContainer.js     # èŠå¤©å®¹å™¨ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ FeedbackModal.js     # åé¦ˆæ¨¡æ€æ¡†
â”‚   â”‚   â”‚   â”œâ”€â”€ MultimodalInput.js   # å¤šæ¨¡æ€è¾“å…¥ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ PersonalizationPanel.js # ä¸ªæ€§åŒ–é¢æ¿
â”‚   â”‚   â”‚   â”œâ”€â”€ Sidebar.js           # ä¾§è¾¹æ ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ StyleComparison.js   # æ ·å¼å¯¹æ¯”ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ services/                # æœåŠ¡å±‚
â”‚   â”‚   â”‚   â””â”€â”€ ChatAPI.js           # APIè°ƒç”¨å°è£…
â”‚   â”‚   â”œâ”€â”€ hooks/                   # React Hooks
â”‚   â”‚   â”œâ”€â”€ utils/                   # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ styles/                  # æ ·å¼æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ constants/                # å¸¸é‡å®šä¹‰
â”‚   â”œâ”€â”€ package.json                 
â”‚   â””â”€â”€ package-lock.json            
â”‚
â”œâ”€â”€ alembic/                          # æ•°æ®åº“è¿ç§»
â”‚   â”œâ”€â”€ versions/                    # è¿ç§»è„šæœ¬
â”‚   â”œâ”€â”€ env.py                       # Alembicç¯å¢ƒ
â”‚   â””â”€â”€ alembic.ini                  # Alembicé…ç½®
â”‚
â”œâ”€â”€ docs/                             # æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ RAGå®æ–½æ­¥éª¤.md               # RAGç³»ç»Ÿæ–‡æ¡£
â”‚   â”œâ”€â”€ è®°å¿†ç³»ç»Ÿæ¶æ„.md              # è®°å¿†ç³»ç»Ÿæ–‡æ¡£
â”‚   â”œâ”€â”€ æ„å›¾è¯†åˆ«æ¨¡å—è¯´æ˜.md          # æ„å›¾è¯†åˆ«æ–‡æ¡£
â”‚   â”œâ”€â”€ å¢å¼ºç‰ˆè¾“å…¥å¤„ç†å™¨ä½¿ç”¨æŒ‡å—.md  # è¾“å…¥å¤„ç†å™¨æ–‡æ¡£
â”‚   â”œâ”€â”€ ç”Ÿäº§éƒ¨ç½²æŒ‡å—.md              # ç”Ÿäº§éƒ¨ç½²æ–‡æ¡£
â”‚   â”œâ”€â”€ APIæ¥å£æ–‡æ¡£.md               # APIæ¥å£æ–‡æ¡£
â”‚   â”œâ”€â”€ plugin_system_guide.md       # æ’ä»¶ç³»ç»ŸæŒ‡å—
â”‚   â”œâ”€â”€ performance_optimization_guide.md # æ€§èƒ½ä¼˜åŒ–æŒ‡å—
â”‚   â”œâ”€â”€ ä¸ªæ€§åŒ–é…ç½®åŠŸèƒ½æ–‡æ¡£.md        # ä¸ªæ€§åŒ–é…ç½®æ–‡æ¡£
â”‚   â””â”€â”€ ...                          # æ›´å¤šæ–‡æ¡£
â”‚
â”œâ”€â”€ examples/                         # ç¤ºä¾‹ä»£ç 
â”‚   â”œâ”€â”€ intent_recognition_demo.py   # æ„å›¾è¯†åˆ«ç¤ºä¾‹
â”‚   â”œâ”€â”€ performance_optimization_example.py # æ€§èƒ½ä¼˜åŒ–ç¤ºä¾‹
â”‚   â””â”€â”€ response_generation_example.py # å“åº”ç”Ÿæˆç¤ºä¾‹
â”‚
â”œâ”€â”€ knowledge_base/                   # çŸ¥è¯†åº“æ–‡ä»¶å­˜å‚¨
â”‚
â”œâ”€â”€ chroma_db/                        # ChromaDBå‘é‡æ•°æ®åº“å­˜å‚¨
â”œâ”€â”€ uploads/                          # æ–‡ä»¶ä¸Šä¼ ç›®å½•
â”œâ”€â”€ log/                              # æ—¥å¿—ç›®å½•
â”‚
â”œâ”€â”€ config.py                         # å…¨å±€é…ç½®
â”œâ”€â”€ config.env                        # ç¯å¢ƒå˜é‡é…ç½® âš ï¸ åŒ…å«å¯†é’¥
â”œâ”€â”€ config.env.example                # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”œâ”€â”€ env_example.txt                   # æ—§ç‰ˆç¯å¢ƒå˜é‡æ¨¡æ¿ï¼ˆå·²å¼ƒç”¨ï¼‰
â”œâ”€â”€ run_backend.py                    # åç«¯å¯åŠ¨è„šæœ¬
â”œâ”€â”€ simple_backend.py                 # ç®€åŒ–ç‰ˆåç«¯ï¼ˆæµ‹è¯•ç”¨ï¼‰
â”œâ”€â”€ db_manager.py                     # æ•°æ®åº“ç®¡ç†å·¥å…·
â”œâ”€â”€ init_rag_knowledge.py            # RAGçŸ¥è¯†åº“åˆå§‹åŒ–
â”œâ”€â”€ quick_start.py                    # å¿«é€Ÿå¯åŠ¨è„šæœ¬
â”œâ”€â”€ demo_agent.py                     # Agentæ¼”ç¤ºè„šæœ¬
â”œâ”€â”€ test_agent.py                     # Agentæµ‹è¯•è„šæœ¬
â”œâ”€â”€ test_sentiment_offline.py         # ç¦»çº¿æƒ…æ„Ÿæµ‹è¯•
â”œâ”€â”€ test_weather_plugin.py            # å¤©æ°”æ’ä»¶æµ‹è¯•
â”œâ”€â”€ requirements.txt                  # Python 3.10+ ä¾èµ–
â”œâ”€â”€ Makefile                          # å‘½ä»¤è¡Œå·¥å…·
â”œâ”€â”€ Dockerfile                        # Dockeré•œåƒæ„å»º
â”œâ”€â”€ docker-compose.yml               # Dockerå®¹å™¨ç¼–æ’
â”œâ”€â”€ alembic.ini                      # Alembicé…ç½®
â”œâ”€â”€ AGENT_README.md                  # Agentæ¨¡å—æ–‡æ¡£
â”œâ”€â”€ PYTHON310_INSTALL.md             # Python 3.10 å®‰è£…æŒ‡å—
â”œâ”€â”€ LICENSE                           
â””â”€â”€ README.md                         # é¡¹ç›®æ–‡æ¡£ï¼ˆæœ¬æ–‡ä»¶ï¼‰
```

### æ ¸å¿ƒæ–‡ä»¶è¯´æ˜

#### ğŸ”¥ åº”ç”¨å…¥å£

| æ–‡ä»¶ | ç”¨é€” | è¯´æ˜ |
|------|------|------|
| `backend/app.py` | âœ… åº”ç”¨å·¥å‚ | FastAPIåº”ç”¨åˆ›å»ºå’Œé…ç½®ï¼ˆv3.0ï¼‰ |
| `backend/main.py` | æ—§ç‰ˆå…¥å£ | å…¼å®¹æ€§ä¿ç•™ |
| `run_backend.py` | å¯åŠ¨è„šæœ¬ | æ¨èçš„å¯åŠ¨æ–¹å¼ |

#### ğŸ“Š æ¶æ„å±‚çº§

| å±‚çº§ | ç›®å½• | è¯´æ˜ |
|------|------|------|
| è·¯ç”±å±‚ | `backend/routers/` | APIæ¥å£å®šä¹‰å’Œè¯·æ±‚åˆ†å‘ï¼ˆchat, agent, memoryç­‰ï¼‰ |
| æœåŠ¡å±‚ | `backend/services/` | ä¸šåŠ¡é€»è¾‘å°è£…å’Œç¼–æ’ï¼ˆchat_service, memory_serviceç­‰ï¼‰ |
| æ¨¡å—å±‚ | `backend/modules/` | Agentã€RAGã€LLMã€Intentã€Multimodalæ ¸å¿ƒæ¨¡å— |
| Agentå±‚ | `backend/agent/` | Agentæ ¸å¿ƒå®ç°ï¼ˆç‹¬ç«‹æ¨¡å—ï¼ŒåŒ…å«å·¥å…·é›†ï¼‰ |
| æ’ä»¶å±‚ | `backend/plugins/` | æ’ä»¶ç³»ç»Ÿï¼ˆweather, newsç­‰æ‰©å±•åŠŸèƒ½ï¼‰ |
| ä¸­é—´ä»¶å±‚ | `backend/middleware/` | ä¸­é—´ä»¶ï¼ˆé”™è¯¯å¤„ç†ã€æ—¥å¿—ç­‰ï¼‰ |
| æ•°æ®å±‚ | `backend/database.py` | æ•°æ®æ¨¡å‹å’Œæ•°æ®åº“æ“ä½œ |

#### ğŸ¤– æ ¸å¿ƒæ¨¡å—

| æ¨¡å— | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| Agentæ ¸å¿ƒ | `backend/modules/agent/` | Agentæ¨¡å—åŒ–å®ç°ï¼ˆcore, services, routersï¼‰ |
| Agentå®ç° | `backend/agent/` | Agentæ ¸å¿ƒå®ç°ï¼ˆagent_core, planner, toolsç­‰ï¼‰ |
| RAGç³»ç»Ÿ | `backend/modules/rag/` | çŸ¥è¯†åº“ç®¡ç†å’Œæ£€ç´¢å¢å¼º |
| LLMå°è£… | `backend/modules/llm/` | é€šä¹‰åƒé—®APIå°è£…ï¼ˆæ”¯æŒå¤šæä¾›å•†ï¼‰ |
| æ„å›¾è¯†åˆ« | `backend/modules/intent/` | æ··åˆå¼æ„å›¾è¯†åˆ«ç³»ç»Ÿ |
| å¤šæ¨¡æ€ | `backend/modules/multimodal/` | å¤šæ¨¡æ€å¤„ç†ï¼ˆè¯­éŸ³ã€å›¾åƒç­‰ï¼‰ |
| æ’ä»¶ç³»ç»Ÿ | `backend/plugins/` | å¯æ‰©å±•æ’ä»¶æ¶æ„ï¼ˆweather, newsç­‰ï¼‰ |

#### ğŸ› ï¸ å·¥å…·å’Œé…ç½®

| æ–‡ä»¶/ç›®å½• | è¯´æ˜ |
|----------|------|
| `config.env` | ç¯å¢ƒå˜é‡ï¼ˆAPIå¯†é’¥ã€æ•°æ®åº“é…ç½®ï¼‰âš ï¸ ä¸è¦æäº¤ |
| `backend/config/` | é…ç½®æ–‡ä»¶ç›®å½•ï¼ˆemotion_strategy.yamlç­‰ï¼‰ |
| `Makefile` | å‘½ä»¤è¡Œå·¥å…·ï¼ˆdb-init, rag-initç­‰ï¼‰ |
| `docker-compose.yml` | Dockerå®¹å™¨ç¼–æ’ï¼ˆå®Œæ•´ç›‘æ§æ ˆï¼‰ |
| `alembic/` | æ•°æ®åº“ç‰ˆæœ¬ç®¡ç† |
| `backend/tests/` | æµ‹è¯•å¥—ä»¶ï¼ˆunit, integration, e2eï¼‰ |
| `backend/schemas/` | æ•°æ®æ¨¡å¼å®šä¹‰ï¼ˆPydantic modelsï¼‰ |
| `backend/utils/` | å·¥å…·å‡½æ•°åº“ |
| `examples/` | ç¤ºä¾‹ä»£ç å’Œæ¼”ç¤º |

## ğŸ“¡ APIæ¥å£æ–‡æ¡£

> ğŸ“– **å®Œæ•´APIæ–‡æ¡£**: æŸ¥çœ‹ [docs/APIæ¥å£æ–‡æ¡£.md](docs/APIæ¥å£æ–‡æ¡£.md) - åŒ…å«æ‰€æœ‰æ¥å£çš„è¯¦ç»†è¯´æ˜ã€è¯·æ±‚å‚æ•°ã€å“åº”ç¤ºä¾‹å’Œé”™è¯¯å¤„ç†

### ä¸»è¦æ¥å£æ¦‚è§ˆ

| æ¥å£ | æ–¹æ³• | è¯´æ˜ |
|------|------|------|
| `/` | GET | ç³»ç»Ÿä¿¡æ¯å’ŒåŠŸèƒ½åˆ—è¡¨ |
| `/health` | GET | å¥åº·æ£€æŸ¥ |
| `/chat` | POST | æ™®é€šèŠå¤©æ¥å£ |
| `/agent/chat` | POST | Agentæ™ºèƒ½èŠå¤©æ¥å£ |
| `/sessions/{id}/history` | GET | è·å–ä¼šè¯å†å² |
| `/rag/search` | POST | RAGçŸ¥è¯†åº“æ£€ç´¢ |
| `/agent/tools` | GET | Agentå¯ç”¨å·¥å…·åˆ—è¡¨ |

### å¿«é€Ÿæµ‹è¯•

```bash
# å¥åº·æ£€æŸ¥
curl http://localhost:8000/health

# æµ‹è¯•èŠå¤©
curl -X POST http://localhost:8000/chat \
  -H "Content-Type: application/json" \
  -d '{"message": "ä½ å¥½", "user_id": "test_user"}'
```

### äº¤äº’å¼æ–‡æ¡£

è®¿é—® **http://localhost:8000/docs** æŸ¥çœ‹å®Œæ•´çš„ Swagger UI äº¤äº’å¼æ–‡æ¡£ï¼Œæ”¯æŒåœ¨çº¿æµ‹è¯•æ‰€æœ‰æ¥å£ã€‚

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½å®ç°

### 1. Agentæ™ºèƒ½æ ¸å¿ƒ

**å·¥ä½œæµç¨‹**:
```
ç”¨æˆ·è¾“å…¥
  â†“
Planner åˆ†æç›®æ ‡ â†’ åˆ¶å®šç­–ç•¥
  â†“
Memory Hub æ£€ç´¢è®°å¿† â†’ æ„å»ºç”»åƒ
  â†“
Tool Caller æ‰§è¡Œå·¥å…· â†’ è·å–èµ„æº
  â†“
ç”Ÿæˆå›å¤ + æƒ…æ„Ÿåˆ†æ
  â†“
Reflector è¯„ä¼°æ•ˆæœ â†’ è§„åˆ’å›è®¿
```

**æ ¸å¿ƒèƒ½åŠ›**:
- âœ… æ™ºèƒ½ä»»åŠ¡åˆ†è§£å’Œè§„åˆ’
- âœ… 10+ å·¥å…·è‡ªåŠ¨è°ƒç”¨
- âœ… é•¿çŸ­æœŸè®°å¿†ç®¡ç†
- âœ… ç”¨æˆ·ç”»åƒæ„å»º
- âœ… ä¸»åŠ¨å›è®¿å…³æ€€
- âœ… ç­–ç•¥åæ€ä¼˜åŒ–

### 2. RAGçŸ¥è¯†å¢å¼º

**æ£€ç´¢æµç¨‹**:
```
ç”¨æˆ·é—®é¢˜
  â†“
é—®é¢˜åˆ†æ â†’ åˆ¤æ–­æ˜¯å¦éœ€è¦çŸ¥è¯†åº“
  â†“
å‘é‡æ£€ç´¢ â†’ æŸ¥æ‰¾ç›¸å…³çŸ¥è¯†
  â†“
çŸ¥è¯†èåˆ â†’ å¢å¼ºprompt
  â†“
ç”Ÿæˆå›å¤ï¼ˆåŸºäºçŸ¥è¯† + å…±æƒ…ï¼‰
```

**ç‰¹ç‚¹**:
- âœ… 6å¤§ç±»ä¸“ä¸šå¿ƒç†å¥åº·çŸ¥è¯†
- âœ… è¯­ä¹‰ç›¸ä¼¼åº¦æ£€ç´¢
- âœ… è‡ªåŠ¨åˆ¤æ–­çŸ¥è¯†å¢å¼ºæ—¶æœº
- âœ… æ”¯æŒPDFç­‰å¤šç§æ ¼å¼å¯¼å…¥

### 3. æƒ…æ„Ÿåˆ†æç³»ç»Ÿ

**åˆ†æç»´åº¦**:
- æƒ…æ„Ÿç±»å‹ï¼šå¼€å¿ƒã€éš¾è¿‡ã€ç„¦è™‘ã€æ„¤æ€’ã€å¹³é™ç­‰
- æƒ…æ„Ÿå¼ºåº¦ï¼š0-10åˆ†é‡åŒ–è¯„ä¼°
- å…³é”®è¯æå–ï¼šè¯†åˆ«æƒ…ç»ªè§¦å‘è¯
- è¶‹åŠ¿åˆ†æï¼šè·¨ä¼šè¯æƒ…æ„Ÿå˜åŒ–è¿½è¸ª

**å®ç°æ–¹å¼**:
- ä½¿ç”¨é€šä¹‰åƒé—® API è¿›è¡Œæƒ…æ„Ÿç†è§£
- ç»“åˆå†å²æ•°æ®è¿›è¡Œæƒ…æ„Ÿæ¨¡å¼å­¦ä¹ 
- è‡ªåŠ¨è®°å½•æƒ…æ„Ÿåˆ†æç»“æœåˆ°æ•°æ®åº“

### 4. è®°å¿†ç³»ç»Ÿ

**ä¸‰å±‚è®°å¿†æ¶æ„**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  çŸ­æœŸè®°å¿† (Working Memory)       â”‚
â”‚  å½“å‰ä¼šè¯ä¸Šä¸‹æ–‡ï¼ˆæœ€è¿‘5-10æ¡ï¼‰     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é•¿æœŸè®°å¿† (Long-term Memory)     â”‚
â”‚  ChromaDBå‘é‡å­˜å‚¨ï¼ˆæ‰€æœ‰å†å²ï¼‰     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç”¨æˆ·ç”»åƒ (User Profile)         â”‚
â”‚  æ€§æ ¼ç‰¹å¾ã€åå¥½ã€æƒ…æ„ŸåŸºçº¿         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**åŠŸèƒ½**:
- âœ… è‡ªåŠ¨è®°å¿†æå–å’Œå­˜å‚¨
- âœ… è¯­ä¹‰ç›¸ä¼¼åº¦æ£€ç´¢
- âœ… è·¨ä¼šè¯è®°å¿†è®¿é—®
- âœ… ç”¨æˆ·ç”»åƒè‡ªåŠ¨æ„å»º

### 5. è¯„ä¼°å’Œåé¦ˆç³»ç»Ÿ

**è‡ªåŠ¨è¯„ä¼°**:
- å›å¤è´¨é‡è¯„ä¼°ï¼ˆ1-5åˆ†ï¼‰
- å…±æƒ…åº¦è¯„ä¼°
- å®ç”¨æ€§è¯„ä¼°
- ç”¨æˆ·æ»¡æ„åº¦é¢„æµ‹

**åé¦ˆæ”¶é›†**:
- ç‚¹èµ/ç‚¹è¸©
- æ–‡å­—åé¦ˆ
- é—®é¢˜æ ‡æ³¨
- æ”¹è¿›å»ºè®®æ”¶é›†

## ğŸ”§ APIæ¥å£

### èŠå¤©æ¥å£
```http
POST http://localhost:8000/chat
Content-Type: application/json

{
  "message": "ç”¨æˆ·æ¶ˆæ¯",
  "session_id": "ä¼šè¯IDï¼ˆå¯é€‰ï¼‰",
  "user_id": "ç”¨æˆ·IDï¼ˆå¯é€‰ï¼‰"
}
```

### ä¼šè¯å†å²
```http
GET http://localhost:8000/sessions/{session_id}/history?limit=20
```

### ä¼šè¯æ‘˜è¦
```http
GET http://localhost:8000/sessions/{session_id}/summary
```

## ğŸ¨ ç•Œé¢é¢„è§ˆ

### é¦–é¡µç•Œé¢

![é¦–é¡µç•Œé¢](image/é¦–é¡µç•Œé¢.png)

ç°ä»£åŒ–çš„èŠå¤©ç•Œé¢è®¾è®¡ï¼ŒåŒ…å«ï¼š
- æƒ…æ„Ÿæ ‡ç­¾å¯è§†åŒ–
- å»ºè®®æŒ‰é’®å¿«é€Ÿå›å¤
- æµç•…çš„åŠ¨ç”»æ•ˆæœ
- å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒç§»åŠ¨ç«¯

### AIå½¢è±¡å®šåˆ¶

![AIå½¢è±¡å®šåˆ¶](image/AIå½¢è±¡å®šåˆ¶.png)

ä¸ªæ€§åŒ–AIå½¢è±¡å®šåˆ¶åŠŸèƒ½ï¼Œè®©AIé™ªä¼´æ›´åŠ ç”ŸåŠ¨æœ‰è¶£ã€‚

## ğŸ”® æœªæ¥è§„åˆ’

### è¿‘æœŸè®¡åˆ’ï¼ˆv3.1.0ï¼‰
- [ ] Agentå·¥å…·åº“æ‰©å±•ï¼ˆ20+å·¥å…·ï¼‰
- [ ] çœŸå®çš„å®šæ—¶å›è®¿ç³»ç»Ÿï¼ˆAPSchedulerï¼‰
- [ ] ç”¨æˆ·åå¥½å­¦ä¹ å’Œä¸ªæ€§åŒ–æ¨è
- [ ] å¤šæ¨¡æ€æ”¯æŒï¼ˆå›¾ç‰‡ç†è§£ï¼‰
- [ ] è¯­éŸ³è½¬æ–‡å­—é›†æˆ
- [ ] æ€§èƒ½ä¼˜åŒ–å’Œç¼“å­˜ç­–ç•¥

### ä¸­æœŸè®¡åˆ’ï¼ˆv3.5.0ï¼‰
- [ ] å¤šè¯­è¨€æ”¯æŒï¼ˆè‹±è¯­ã€æ—¥è¯­ï¼‰
- [ ] ä¸“ä¸šå’¨è¯¢å¸ˆå¯¹æ¥ç³»ç»Ÿ
- [ ] A/Bæµ‹è¯•æ¡†æ¶
- [ ] é«˜çº§æƒ…æ„Ÿè¶‹åŠ¿åˆ†æå’Œé¢„æµ‹
- [ ] ç¾¤ç»„èŠå¤©æ”¯æŒ
- [ ] ç§»åŠ¨ç«¯é€‚é…ä¼˜åŒ–

### é•¿æœŸè®¡åˆ’ï¼ˆv4.0.0ï¼‰
- [ ] è”é‚¦å­¦ä¹ ä¿æŠ¤éšç§
- [ ] æœ¬åœ°åŒ–éƒ¨ç½²æ–¹æ¡ˆ
- [ ] ç§»åŠ¨ç«¯åŸç”ŸApp
- [ ] æ™ºèƒ½å¯ç©¿æˆ´è®¾å¤‡é›†æˆ
- [ ] å¿ƒç†å¥åº·ç”Ÿæ€ç³»ç»Ÿ
- [ ] å¼€æ”¾APIå¹³å°

## ğŸ“ ç‰ˆæœ¬å†å²

### v3.0.0 (2025-10-16) - å½“å‰ç‰ˆæœ¬
- âœ… Agentæ™ºèƒ½æ ¸å¿ƒç³»ç»Ÿ
- âœ… RAGçŸ¥è¯†åº“é›†æˆ
- âœ… åˆ†å±‚æœåŠ¡æ¶æ„é‡æ„
- âœ… Dockerå®¹å™¨åŒ–éƒ¨ç½²
- âœ… å®Œæ•´ç›‘æ§ä½“ç³»
- âœ… æ•°æ®åº“è¿ç§»ç®¡ç†ï¼ˆAlembicï¼‰
- âœ… è®°å¿†ç³»ç»Ÿå‡çº§
- âœ… è‡ªåŠ¨è¯„ä¼°ç³»ç»Ÿ
- âœ… æ‰“å­—æœºæ•ˆæœç³»ç»Ÿï¼ˆæƒ…ç»ªåŒ–æ‰“å­—åŠ¨ç”»ï¼‰

### v2.0.0 (2025-10-10)
- âœ… ä»OpenAIè¿ç§»åˆ°é˜¿é‡Œäº‘é€šä¹‰åƒé—®
- âœ… ChromaDBå‘é‡æ•°æ®åº“é›†æˆ
- âœ… LangChainè®°å¿†ç®¡ç†
- âœ… æƒ…æ„Ÿåˆ†æä¼˜åŒ–
- âœ… Reactå‰ç«¯ç•Œé¢

### v1.0.0 (2025-10-01)
- âœ… åŸºç¡€èŠå¤©åŠŸèƒ½
- âœ… MySQLæ•°æ®æŒä¹…åŒ–
- âœ… æƒ…æ„Ÿè¯†åˆ«
- âœ… ç®€å•çš„ä¸Šä¸‹æ–‡ç®¡ç†

## ğŸš€ ç”Ÿäº§éƒ¨ç½²

> ğŸ“¦ **å®Œæ•´éƒ¨ç½²æŒ‡å—**ï¼š[docs/ç”Ÿäº§éƒ¨ç½²æŒ‡å—.md](docs/ç”Ÿäº§éƒ¨ç½²æŒ‡å—.md) - ä»å¼€å‘ç¯å¢ƒåˆ°ç”Ÿäº§ç¯å¢ƒçš„å®Œæ•´éƒ¨ç½²æ–¹æ¡ˆ

é¡¹ç›®æä¾›å®Œæ•´çš„ç”Ÿäº§çº§éƒ¨ç½²æ–¹æ¡ˆï¼Œæ”¯æŒå¤šç§éƒ¨ç½²æ–¹å¼ï¼š

### å¿«é€Ÿå¼€å§‹

**Docker Compose éƒ¨ç½²ï¼ˆæ¨èï¼‰**ï¼š

```bash
# 1. é…ç½®ç¯å¢ƒå˜é‡
cp config.env.example config.env
nano config.env

# 2. å¯åŠ¨æœåŠ¡
docker-compose up -d

# 3. åˆå§‹åŒ–æ•°æ®åº“å’ŒçŸ¥è¯†åº“
docker-compose exec backend make db-upgrade
docker-compose exec backend make rag-init

# 4. éªŒè¯éƒ¨ç½²
curl http://localhost:8000/health
```

**ä¼ ç»Ÿéƒ¨ç½²**ï¼š

```bash
# 1. å®‰è£…ä¾èµ–ï¼ˆPython 3.10+ï¼‰
python --version  # å…ˆæ£€æŸ¥ç‰ˆæœ¬
pip install -r requirements.txt

# 2. é…ç½®ç¯å¢ƒ
cp config.env.example config.env
nano config.env

# 3. åˆå§‹åŒ–æ•°æ®åº“
make db-upgrade

# 4. åˆå§‹åŒ–çŸ¥è¯†åº“
make rag-init

# 5. å¯åŠ¨æœåŠ¡
python run_backend.py
```

### éƒ¨ç½²æ£€æŸ¥æ¸…å•

- [ ] é…ç½®ç”Ÿäº§ç¯å¢ƒçš„`config.env`æ–‡ä»¶
- [ ] æ›´æ–°CORSå…è®¸çš„åŸŸåï¼ˆä¸è¦ä½¿ç”¨`*`ï¼‰
- [ ] é…ç½®åå‘ä»£ç†ï¼ˆNginxï¼‰
- [ ] å¯ç”¨HTTPS/SSLè¯ä¹¦
- [ ] é…ç½®æ•°æ®åº“å¤‡ä»½ç­–ç•¥
- [ ] è®¾ç½®æ—¥å¿—è½®è½¬
- [ ] é…ç½®ç›‘æ§å’Œå‘Šè­¦
- [ ] åˆå§‹åŒ–æ•°æ®åº“ï¼ˆ`make db-upgrade`ï¼‰
- [ ] åˆå§‹åŒ–RAGçŸ¥è¯†åº“ï¼ˆ`make rag-init`ï¼‰

### éƒ¨ç½²æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç”¨æˆ·æµè§ˆå™¨                            â”‚
â”‚               (è®¿é—®: http://your-domain.com)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Nginx åå‘ä»£ç†                          â”‚
â”‚              (ç«¯å£: 80, 443)                            â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚                          â”‚
â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å‰ç«¯æœåŠ¡      â”‚      â”‚   åç«¯APIæœåŠ¡      â”‚
â”‚  React 18      â”‚      â”‚  FastAPI + Python â”‚
â”‚  ç«¯å£: 3000    â”‚      â”‚  ç«¯å£: 8000       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚      â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚              â”‚      â”‚              â”‚
       â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”
       â”‚  MySQL      â”‚ â”‚  Redis  â”‚ â”‚   ChromaDB    â”‚
       â”‚  å…³ç³»æ•°æ®åº“  â”‚ â”‚  ç¼“å­˜   â”‚ â”‚   å‘é‡æ•°æ®åº“  â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç›‘æ§æ ˆï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Prometheus  â”‚  Grafana    â”‚  Elasticsearchâ”‚  Kibana  â”‚
â”‚  æŒ‡æ ‡é‡‡é›†   â”‚  å¯è§†åŒ–     â”‚  æ—¥å¿—å­˜å‚¨    â”‚  æ—¥å¿—åˆ†æ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å®Œæ•´éƒ¨ç½²æ–‡æ¡£

è¯¦ç»†çš„ç”Ÿäº§éƒ¨ç½²æŒ‡å—åŒ…å«ï¼š

- âœ… **éƒ¨ç½²å‰å‡†å¤‡**ï¼šé…ç½®ç®¡ç†ã€ä¾èµ–é”å®šã€å¯åŠ¨è„šæœ¬
- âœ… **Dockerå®¹å™¨åŒ–éƒ¨ç½²**ï¼šç¯å¢ƒä¸€è‡´æ€§ã€ç›‘æ§é›†æˆã€æ•°æ®æŒä¹…åŒ–
- âœ… **äº‘æœåŠ¡å™¨éƒ¨ç½²**ï¼šECSé…ç½®ã€Gunicorné…ç½®ã€SystemdæœåŠ¡
- âœ… **HTTPSå®‰å…¨åŠ å›º**ï¼šLet's Encryptè¯ä¹¦ã€Nginxé…ç½®
- âœ… **ç›‘æ§å’Œç»´æŠ¤**ï¼šPrometheusã€Grafanaã€æ—¥å¿—ç®¡ç†
- âœ… **æ•…éšœæ’æŸ¥**ï¼šå¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆ

ğŸ‘‰ **æŸ¥çœ‹å®Œæ•´æ–‡æ¡£**ï¼š[docs/ç”Ÿäº§éƒ¨ç½²æŒ‡å—.md](docs/ç”Ÿäº§éƒ¨ç½²æŒ‡å—.md)

## ğŸ“ è®¸å¯è¯

MIT License

## ğŸ› ï¸ Makefile å‘½ä»¤é€ŸæŸ¥

é¡¹ç›®æä¾›äº†ä¾¿æ·çš„Makefileå‘½ä»¤ï¼Œç®€åŒ–å¸¸ç”¨æ“ä½œï¼š

```bash
# æŸ¥çœ‹æ‰€æœ‰å¯ç”¨å‘½ä»¤
make help

# å®‰è£…ä¾èµ–
make install

# æ•°æ®åº“ç®¡ç†
make db-init          # åˆå§‹åŒ–æ•°æ®åº“
make db-upgrade       # å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬
make db-downgrade     # é™çº§ä¸€ä¸ªç‰ˆæœ¬
make db-current       # æŸ¥çœ‹å½“å‰ç‰ˆæœ¬
make db-history       # æŸ¥çœ‹è¿ç§»å†å²
make db-check         # æ£€æŸ¥æ•°æ®åº“è¿æ¥

# RAGçŸ¥è¯†åº“
make rag-init         # åˆå§‹åŒ–çŸ¥è¯†åº“
make rag-test         # æµ‹è¯•RAGç³»ç»Ÿ
make rag-demo         # RAGæ•ˆæœå¯¹æ¯”æ¼”ç¤º

# è¿è¡ŒæœåŠ¡
make run              # å¯åŠ¨åç«¯æœåŠ¡
```

## ğŸ“š ç›¸å…³æ–‡æ¡£

### æ ¸å¿ƒæ¨¡å—æ–‡æ¡£
- **ç”Ÿäº§éƒ¨ç½²**: [docs/ç”Ÿäº§éƒ¨ç½²æŒ‡å—.md](docs/ç”Ÿäº§éƒ¨ç½²æŒ‡å—.md) - ä»å¼€å‘åˆ°ç”Ÿäº§çš„å®Œæ•´éƒ¨ç½²æ–¹æ¡ˆ ğŸš€ **æ–°å¢**
- **Agentæ¨¡å—**: [AGENT_README.md](AGENT_README.md) - Agentæ™ºèƒ½æ ¸å¿ƒè¯¦ç»†æ–‡æ¡£
- **RAGç³»ç»Ÿ**: [docs/RAGå®æ–½æ­¥éª¤.md](docs/RAGå®æ–½æ­¥éª¤.md) - RAGçŸ¥è¯†åº“å®æ–½æŒ‡å—
- **è®°å¿†ç³»ç»Ÿ**: [docs/è®°å¿†ç³»ç»Ÿæ¶æ„.md](docs/è®°å¿†ç³»ç»Ÿæ¶æ„.md) - è®°å¿†ç³»ç»Ÿæ¶æ„è¯´æ˜
- **æ„å›¾è¯†åˆ«**: [docs/æ„å›¾è¯†åˆ«æ¨¡å—è¯´æ˜.md](docs/æ„å›¾è¯†åˆ«æ¨¡å—è¯´æ˜.md) - æ„å›¾è¯†åˆ«ç³»ç»Ÿå®Œæ•´æ–‡æ¡£
- **è¾“å…¥å¤„ç†**: [docs/å¢å¼ºç‰ˆè¾“å…¥å¤„ç†å™¨ä½¿ç”¨æŒ‡å—.md](docs/å¢å¼ºç‰ˆè¾“å…¥å¤„ç†å™¨ä½¿ç”¨æŒ‡å—.md) - å¢å¼ºç‰ˆè¾“å…¥é¢„å¤„ç†å™¨ â­ **æ–°å¢**
- **å¤šæ¨¡æ€äº¤äº’**: å¤šæ¨¡æ€æƒ…æ„Ÿäº¤äº’åŠŸèƒ½ï¼ˆè¯­éŸ³è¯†åˆ«ã€å›¾åƒç†è§£ç­‰ï¼‰ ğŸ™ï¸ **æ–°å¢**

### å‘é‡æ•°æ®åº“æ•™ç¨‹ï¼ˆæ–°å¢ï¼‰
- **ğŸ“– æ•™ç¨‹ç´¢å¼•**: [docs/å‘é‡æ•°æ®åº“æ•™ç¨‹ç´¢å¼•.md](docs/å‘é‡æ•°æ®åº“æ•™ç¨‹ç´¢å¼•.md) - å‘é‡æ•°æ®åº“å­¦ä¹ è·¯å¾„å¯¼èˆª
- **ğŸ“˜ å®Œæ•´æ•™ç¨‹**: [docs/å‘é‡æ•°æ®åº“é›†æˆæ•™ç¨‹_Chromaç‰ˆ.md](docs/å‘é‡æ•°æ®åº“é›†æˆæ•™ç¨‹_Chromaç‰ˆ.md) - Chroma é›†æˆè¯¦ç»†æ•™ç¨‹
- **âš–ï¸ æŠ€æœ¯å¯¹æ¯”**: [docs/Pinecone_vs_Chroma_å¯¹æ¯”.md](docs/Pinecone_vs_Chroma_å¯¹æ¯”.md) - Pinecone vs Chroma å…¨é¢å¯¹æ¯”
- **ğŸ’» ä»£ç ç¤ºä¾‹**: [examples/README.md](examples/README.md) - å¿«é€Ÿå…¥é—¨å’Œå®Œæ•´æ¼”ç¤º

### APIæ–‡æ¡£
- **APIæ–‡æ¡£**: http://localhost:8000/docs - äº¤äº’å¼APIæ–‡æ¡£ï¼ˆSwagger UIï¼‰

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤Issueå’ŒPull Requestæ¥æ”¹è¿›è¿™ä¸ªé¡¹ç›®ï¼

### è´¡çŒ®æ–¹å¼
1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

### å¼€å‘è§„èŒƒ
- éµå¾ªPEP 8 Pythonä»£ç è§„èŒƒ
- æ·»åŠ é€‚å½“çš„æ³¨é‡Šå’Œæ–‡æ¡£å­—ç¬¦ä¸²
- ç¼–å†™å•å…ƒæµ‹è¯•
- æ›´æ–°ç›¸å…³æ–‡æ¡£

## ğŸ™ è‡´è°¢

- [emotional_chat](https://github.com/congde/emotional_chat.git) - åŸå§‹é¡¹ç›®å‚è€ƒ
- é˜¿é‡Œäº‘é€šä¹‰åƒé—®å›¢é˜Ÿ - æä¾›ä¼˜ç§€çš„ä¸­æ–‡å¤§è¯­è¨€æ¨¡å‹
- LangChainç¤¾åŒº - æä¾›å¼ºå¤§çš„LLMåº”ç”¨æ¡†æ¶
- æ‰€æœ‰è´¡çŒ®è€…å’Œç”¨æˆ·çš„æ”¯æŒ

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š
- æäº¤ GitHub Issue
- å‘é€é‚®ä»¶åˆ°é¡¹ç›®ç»´æŠ¤è€… congdeyuan@gmail.com
- å¾®ä¿¡ï¼šjx-yuancongde

---

ğŸ’ **è®©AIæ›´æœ‰æ¸©åº¦ï¼Œè®©é™ªä¼´æ›´æ‡‚ä½ ** ğŸ’

**å¿ƒè¯­æƒ…æ„Ÿé™ªä¼´æœºå™¨äºº v3.0.0** - ä»è¢«åŠ¨å“åº”åˆ°ä¸»åŠ¨æœåŠ¡ï¼Œæˆ‘ä»¬ä¸€ç›´åœ¨è¿›åŒ–ã€‚
