# æœ¬åœ°çŸ¥è¯†åº“æ¥å…¥ä½¿ç”¨æŒ‡å—

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹æ³•ä¸€ï¼šä¸€é”®å¯åŠ¨ï¼ˆæ¨èï¼‰

```bash
# å¿«é€Ÿå¯åŠ¨ï¼Œè‡ªåŠ¨æ„å»ºçŸ¥è¯†åº“
make quick-start

# æˆ–è€…ç›´æ¥è¿è¡Œ
python quick_start.py
```

### æ–¹æ³•äºŒï¼šæ™ºèƒ½å¯åŠ¨

```bash
# å¸¦RAGåŠŸèƒ½çš„æ™ºèƒ½å¯åŠ¨
make run-rag

# æˆ–è€…ç›´æ¥è¿è¡Œ
python start_with_rag.py
```

### æ–¹æ³•ä¸‰ï¼šä¼ ç»Ÿå¯åŠ¨

```bash
# ä¼ ç»Ÿå¯åŠ¨ï¼ˆå·²é›†æˆçŸ¥è¯†åº“è‡ªåŠ¨æ„å»ºï¼‰
make run

# æˆ–è€…ç›´æ¥è¿è¡Œ
python run_backend.py
```

## ğŸ“š çŸ¥è¯†åº“ç®¡ç†

### åˆå§‹åŒ–çŸ¥è¯†åº“

```bash
# åˆå§‹åŒ–å†…ç½®ç¤ºä¾‹çŸ¥è¯†
make rag-init

# æˆ–è€…ç›´æ¥è¿è¡Œ
python init_rag_knowledge.py
```

### æµ‹è¯•çŸ¥è¯†åº“

```bash
# æµ‹è¯•RAGç³»ç»Ÿ
make rag-test

# æˆ–è€…ç›´æ¥è¿è¡Œ
python test_rag_system.py
```

### æ¼”ç¤ºRAGæ•ˆæœ

```bash
# æ¼”ç¤ºRAGæ•ˆæœå¯¹æ¯”
make rag-demo

# æˆ–è€…ç›´æ¥è¿è¡Œ
python demo_rag_comparison.py
```

## ğŸ”§ é«˜çº§é…ç½®

### å¯åŠ¨å‚æ•°

```bash
# ç¦ç”¨RAGåŠŸèƒ½
python start_with_rag.py --no-rag

# å¼ºåˆ¶é‡å»ºçŸ¥è¯†åº“
python start_with_rag.py --rebuild-kb

# ä¸ä»æ–‡ä»¶ç»“æ„åŠ è½½çŸ¥è¯†
python start_with_rag.py --no-file-structure

# å¯åŠ¨åæµ‹è¯•RAGåŠŸèƒ½
python start_with_rag.py --test-rag

# è‡ªå®šä¹‰ç«¯å£
python start_with_rag.py --port 8080

# å¯ç”¨è°ƒè¯•æ¨¡å¼
python start_with_rag.py --debug
```

### çŸ¥è¯†åº“ç»“æ„

```
knowledge_base/
â”œâ”€â”€ clinical_guidelines/     # ä¸´åºŠæŒ‡å—
â”‚   â””â”€â”€ anxiety_disorder_diagnosis.md
â”œâ”€â”€ therapy_methods/         # æ²»ç–—æ–¹æ³•
â”‚   â””â”€â”€ cbt_worksheet_guide.md
â”œâ”€â”€ self_help_tools/         # è‡ªåŠ©å·¥å…·
â”‚   â””â”€â”€ mindfulness_script.txt
â””â”€â”€ organization_policy/     # æœºæ„æ”¿ç­–
    â””â”€â”€ crisis_intervention_protocol.md
```

## ğŸ§ª æµ‹è¯•éªŒè¯

### APIæµ‹è¯•

```bash
# æµ‹è¯•RAG API
python test_rag_api.py
```

### åŠŸèƒ½æµ‹è¯•

```bash
# æµ‹è¯•çŸ¥è¯†åº“ç»“æ„
python test_knowledge_base_structure.py

# å¿«é€ŸRAGè®¾ç½®æµ‹è¯•
python quick_rag_setup.py
```

## ğŸ“Š ç›‘æ§ä¸è°ƒè¯•

### æŸ¥çœ‹çŸ¥è¯†åº“çŠ¶æ€

```bash
curl http://localhost:8000/api/rag/status
```

### æµ‹è¯•RAGåŠŸèƒ½

```bash
curl http://localhost:8000/api/rag/test
```

### çŸ¥è¯†é—®ç­”æµ‹è¯•

```bash
curl -X POST http://localhost:8000/api/rag/ask \
  -H "Content-Type: application/json" \
  -d '{
    "question": "æˆ‘æœ€è¿‘æ€»æ˜¯å¤±çœ ï¼Œæ€ä¹ˆåŠï¼Ÿ",
    "search_k": 3
  }'
```

## ğŸ”„ å·¥ä½œæµç¨‹

### 1. é¦–æ¬¡å¯åŠ¨

```bash
# 1. å®‰è£…ä¾èµ–
make install

# 2. åˆå§‹åŒ–æ•°æ®åº“
make db-init

# 3. å¿«é€Ÿå¯åŠ¨ï¼ˆè‡ªåŠ¨æ„å»ºçŸ¥è¯†åº“ï¼‰
make quick-start
```

### 2. æ—¥å¸¸å¼€å‘

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
make run

# æˆ–è€…å¸¦RAGåŠŸèƒ½
make run-rag
```

### 3. ç”Ÿäº§éƒ¨ç½²

```bash
# ä½¿ç”¨æ™ºèƒ½å¯åŠ¨è„šæœ¬
python start_with_rag.py --host 0.0.0.0 --port 8000
```

## ğŸ› ï¸ æ•…éšœæ’æŸ¥

### å¸¸è§é—®é¢˜

1. **ä¾èµ–ç¼ºå¤±**
   ```bash
   pip install -r requirements.txt
   ```

2. **çŸ¥è¯†åº“åˆå§‹åŒ–å¤±è´¥**
   ```bash
   # æ£€æŸ¥APIå¯†é’¥é…ç½®
   cat config.env
   
   # é‡æ–°åˆå§‹åŒ–
   make rag-init
   ```

3. **RAGåŠŸèƒ½ä¸å¯ç”¨**
   ```bash
   # æ£€æŸ¥çŸ¥è¯†åº“çŠ¶æ€
   curl http://localhost:8000/api/rag/status
   
   # é‡æ–°æ„å»ºçŸ¥è¯†åº“
   python start_with_rag.py --rebuild-kb
   ```

### æ—¥å¿—æŸ¥çœ‹

```bash
# æŸ¥çœ‹åç«¯æ—¥å¿—
tail -f backend.log

# æŸ¥çœ‹RAGç›¸å…³æ—¥å¿—
tail -f backend.log | grep "RAG\|knowledge"
```

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### çŸ¥è¯†åº“ä¼˜åŒ–

1. **å®šæœŸæ›´æ–°çŸ¥è¯†åº“**
   ```bash
   # ä»æ–‡ä»¶ç»“æ„é‡æ–°åŠ è½½
   python start_with_rag.py --rebuild-kb
   ```

2. **ç›‘æ§çŸ¥è¯†åº“å¤§å°**
   ```bash
   # æŸ¥çœ‹å­˜å‚¨ç›®å½•å¤§å°
   du -sh chroma_db/
   ```

3. **æ¸…ç†æ— ç”¨æ•°æ®**
   ```bash
   # é‡ç½®çŸ¥è¯†åº“
   curl -X DELETE http://localhost:8000/api/rag/reset
   ```

### å“åº”æ—¶é—´ä¼˜åŒ–

1. **è°ƒæ•´æ£€ç´¢å‚æ•°**
   ```python
   # å‡å°‘æ£€ç´¢æ–‡æ¡£æ•°é‡
   search_k = 2  # é»˜è®¤3
   ```

2. **å¯ç”¨ç¼“å­˜**
   ```python
   # åœ¨RAGServiceä¸­å¯ç”¨ç¼“å­˜
   @lru_cache(maxsize=100)
   def cached_search(self, query: str):
       return self.kb_manager.search_similar(query)
   ```

## ğŸ¯ æœ€ä½³å®è·µ

### 1. çŸ¥è¯†åº“ç®¡ç†

- å®šæœŸæ›´æ–°çŸ¥è¯†åº“å†…å®¹
- ä½¿ç”¨æ ‡å‡†åŒ–çš„æ–‡ä»¶ç»“æ„
- ä¸ºæ–‡æ¡£æ·»åŠ é€‚å½“çš„å…ƒæ•°æ®

### 2. æ€§èƒ½ç›‘æ§

- ç›‘æ§çŸ¥è¯†åº“å“åº”æ—¶é—´
- å®šæœŸæ£€æŸ¥çŸ¥è¯†åº“çŠ¶æ€
- ä¼˜åŒ–æ£€ç´¢å‚æ•°

### 3. å®‰å…¨è€ƒè™‘

- ä¿æŠ¤APIå¯†é’¥
- é™åˆ¶çŸ¥è¯†åº“è®¿é—®æƒé™
- å®šæœŸå¤‡ä»½çŸ¥è¯†åº“æ•°æ®

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [æœ¬åœ°çŸ¥è¯†åº“æ¥å…¥_å®ç°æ–‡æ¡£.md](./æœ¬åœ°çŸ¥è¯†åº“æ¥å…¥_å®ç°æ–‡æ¡£.md)
- [RAGå®æ–½æ­¥éª¤.md](./RAGå®æ–½æ­¥éª¤.md)
- [æ•æ„Ÿå†…å®¹è¿‡æ»¤ä¸å®‰å…¨æœºåˆ¶_å®ç°æ–‡æ¡£.md](./æ•æ„Ÿå†…å®¹è¿‡æ»¤ä¸å®‰å…¨æœºåˆ¶_å®ç°æ–‡æ¡£.md)

## ğŸ†˜ è·å–å¸®åŠ©

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·ï¼š

1. æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶
2. æ£€æŸ¥é…ç½®æ–‡ä»¶
3. è¿è¡Œæµ‹è¯•è„šæœ¬
4. æŸ¥çœ‹ç›¸å…³æ–‡æ¡£

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**åˆ›å»ºæ—¥æœŸ**: 2025-10-22  
**é¡¹ç›®**: å¿ƒè¯­ï¼ˆHeartTalkï¼‰æƒ…æ„Ÿé™ªä¼´æœºå™¨äºº
