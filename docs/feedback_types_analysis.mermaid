graph LR
    subgraph "反馈类型分析"
        subgraph "用户反馈类型"
            A[irrelevant<br/>答非所问] --> A1[问题: 回应与用户问题不匹配]
            B[lack_empathy<br/>缺乏共情] --> B1[问题: 回应缺乏情感理解]
            C[overstepping<br/>越界建议] --> C1[问题: 给出不当建议]
            D[helpful<br/>有帮助] --> D1[正面: 回应有用]
            E[other<br/>其他] --> E1[其他类型问题]
        end
        
        subgraph "评分分布"
            F[1分: 非常不满意] --> F1[严重问题]
            G[2分: 不满意] --> G1[需要改进]
            H[3分: 一般] --> H1[基本可用]
            I[4分: 满意] --> I1[表现良好]
            J[5分: 非常满意] --> J1[优秀表现]
        end
        
        subgraph "分析维度"
            K[时间维度] --> K1[按日期统计趋势]
            L[用户维度] --> L1[按用户分析偏好]
            M[会话维度] --> M1[按会话分析问题]
            N[内容维度] --> N1[关键词和情感分析]
        end
        
        subgraph "优化策略"
            A1 --> O[Prompt优化]
            B1 --> O
            C1 --> O
            E1 --> O
            
            O --> P[针对性改进]
            P --> P1[增强共情能力]
            P --> P2[提高回应准确性]
            P --> P3[加强安全边界]
            P --> P4[优化回应风格]
        end
    end
    
    style A fill:#ffcdd2
    style B fill:#ffcdd2
    style C fill:#ffcdd2
    style D fill:#c8e6c9
    style E fill:#fff3e0
    style F fill:#ffebee
    style G fill:#ffebee
    style H fill:#fff8e1
    style I fill:#e8f5e9
    style J fill:#e8f5e9
    style O fill:#e1f5fe
    style P fill:#f3e5f5
