# 核心框架
# 注意: 根据镜像源可用版本调整，最高版本为 0.83.0
fastapi>=0.68.0,<=0.83.0
# 注意: 镜像源中 uvicorn 最高版本为 0.17.0
uvicorn[standard]>=0.13.0,<=0.17.0
# FastAPI 0.83.0 需要 pydantic>=1.6.2,<2.0.0
pydantic>=1.6.2,<2.0.0
# 注意: 镜像源中 python-dotenv 最高版本为 0.20.0
python-dotenv>=0.15.0,<=0.20.0
# 注意: 镜像源中 requests 最高版本为 2.27.1
requests>=2.20.0,<=2.27.1

# LLM和LangChain
# 注意: 根据镜像源可用版本调整
# openai 0.9.0+ 需要 pandas>=1.2.3，但镜像源 pandas 最高只有 1.1.5
# 使用 openai 0.8.0 以避免 pandas 版本冲突
openai>=0.8.0,<=0.8.0
# 注意: langchain 0.0.x 版本可能与新版本 API 不兼容，需要检查代码兼容性
langchain>=0.0.20,<=0.0.27
# 添加 pandas 依赖（openai 可能需要，使用镜像源可用版本）
pandas>=1.0.0,<=1.1.5

# 向量数据库
# 注意: 镜像源中可能没有 chromadb，需要从其他源安装或使用替代方案
# 如果镜像源没有，可以尝试: pip install chromadb --index-url https://pypi.org/simple
chromadb>=0.4.22,<0.5.0
# 注意: 镜像源中 sentence-transformers 最高版本为 2.2.2
sentence-transformers>=2.0.0,<=2.2.2

# 数据库
# 注意: 镜像源中 PyMySQL 最高版本为 1.0.2
PyMySQL>=1.0.0,<=1.0.2
sqlalchemy>=1.4.53,<2.0.0
# 注意: 镜像源中 alembic 最高版本为 1.7.7
alembic>=1.5.0,<=1.7.7

# 文档处理
# 注意: 代码中使用 PyPDF2，已移除 pypdf 以避免冲突
# 注意: 镜像源中 python-multipart 最高版本为 0.0.5
python-multipart>=0.0.1,<=0.0.5

# 依赖冲突修复
idna>=2.8
anyio>=3.0.0

# 多模态功能依赖
# 语音识别和合成
# 注意: 镜像源中没有 openai-whisper，需要从其他源安装
# openai-whisper==20231117
# 如果镜像源没有，可以尝试: pip install openai-whisper --index-url https://pypi.org/simple
pydub==0.25.1
noisereduce>=3.0.0,<=3.0.3
# 注意: 镜像源中 librosa 最高版本为 0.9.2
librosa>=0.9.0,<=0.9.2
soundfile>=0.12.0,<=0.13.1

# 图像处理和分析
# 注意: 镜像源中 Pillow 最高版本为 8.4.0
Pillow>=8.0.0,<=8.4.0
opencv-python>=4.8.0,<=4.12.0.88
deepface>=0.0.79,<=0.0.86
# 注意: face-recognition 需要 dlib，而 dlib 需要 CMake 编译
# 如果系统没有安装 CMake，请先安装: yum install -y cmake gcc gcc-c++ make
# 或者如果不需要人脸识别功能，可以注释掉这一行
face-recognition==1.3.0
# 注意: 镜像源中 pytesseract 最高版本为 0.3.9
pytesseract>=0.3.0,<=0.3.9

# 阿里云SDK
aliyun-python-sdk-core>=2.14.0,<=2.15.2
# 注意: 镜像源中没有 aliyun-python-sdk-nls-cloud-api，需要从其他源安装
# aliyun-python-sdk-nls-cloud-api==1.0.0
# 如果镜像源没有，可以尝试: pip install aliyun-python-sdk-nls-cloud-api --index-url https://pypi.org/simple
aliyun-python-sdk-imageprocess>=1.0.0,<=2.0.7
aliyun-python-sdk-ocr>=1.0.0,<=1.0.25

# 音频处理
# 注意: wave 和 audioop 是Python标准库，无需安装
# 注意: 镜像源中 gTTS 最高版本为 2.2.4
gTTS>=2.0.0,<=2.2.4

# 其他多模态依赖
# 注意: numpy版本需要兼容librosa、opencv-python、deepface等
# librosa 0.10.1 需要 numpy < 1.24
# opencv-python 4.8.1.78 需要 numpy < 1.24  
# deepface 0.0.79 需要 numpy < 1.24
numpy>=1.19.0,<1.24.0
jieba>=0.42.1

# 其他必要依赖
beautifulsoup4>=4.12.0
PyPDF2>=3.0.0
feedparser>=6.0.0  # RSS新闻源解析

# SQLite支持（ChromaDB需要）
# 注意: pysqlite3-binary 用于替代系统sqlite3以支持ChromaDB
# 如果镜像源没有，可以尝试: pip install pysqlite3-binary --index-url https://pypi.org/simple
pysqlite3-binary>=0.5.0
